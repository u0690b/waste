import{_ as g}from"./Admin-D16NaaEp.js";import{d as b,P as k}from"./useDebouncedRef-BDM1f7_G.js";import{P as x,A as y,o as w}from"./orderBy-CypGlf5-.js";import{A as v}from"./AdminTableFilter-vnh53Frd.js";import{A as B,u as A,h as F,c as P,o as l,w as u,a as o,e as c,F as V,i as C,f as t,q as O,t as f,b as d}from"./app-CcQeSdyF.js";import"./MySelect-B_hBDIe4.js";import"./icon-512-vKo9cVLo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C_LW_vY-.js";import"./DestroyButton-DUm3w38G.js";import"./Modal-DWdKk6RG.js";import"./ButtonPrimary-Ce0jHfsW.js";import"./debounce-Ci_M5H-c.js";const U={class:"px-4"},j={class:"flex flex-wrap"},N={class:"w-full"},S={class:"flex flex-wrap gap-2 pt-3 pb-4 mb-0"},T={class:""},$=["onClick"],q={class:"p-4 bg-white rounded shadow"},_="Хэрэглэгч жагсаалт",Y={__name:"Index",props:{datas:Object,filters:{type:Object,default:()=>({search:""})}},setup(s){const i=s,n=[{key:"name",name:"Нэр",order:"name",filter:!0},{key:"username",name:"Нэвтрэх нэр",order:"username",filter:!0},{key:"aimag_city.name",name:"Айман/нийслэл",order:"aimag_city_id",url:"/admin/aimag_cities",filter:!0},{key:"soum_district.name",name:"Сум/Дүүрэг",order:"soum_district_id",url:"/admin/soum_districts",filter:!0},{key:"bag_horoo.name",name:"Баг хороо",order:"bag_horoo_id",url:"/admin/bag_horoos",filter:!0},{key:"phone",name:"Утас",order:"phone",filter:!0},{key:"place.name",name:"Харьялах нэгж",order:"place_id",url:"/admin/places",filter:!0}],m=B().props.auth,h=m.user.roles=="admin"?[{id:"admin",name:"Админ"},{id:"da",name:"Аймаг, дүүрэг"},{id:"mha",name:"БОХУБ"}]:m.user.roles=="da"?[{id:"mha",name:"БОХУБ"}]:[],e=A({model:{...i.filters,per_page:i.datas.per_page}}).transform(p=>p.model);return F(()=>e.model,b(()=>e.get("",{preserveState:!0}),150),{deep:!0}),(p,r)=>(l(),P(g,{title:_},{default:u(()=>[o("div",U,[o("div",j,[o("div",N,[o("div",S,[(l(!0),c(V,null,C(t(h),a=>(l(),c("div",T,[o("a",{class:O(["block px-5 py-3 text-xs font-bold leading-normal text-[#406f47] uppercase bg-white rounded shadow-lg",{"!text-white !bg-[#406f47]":t(e).model.roles==a.id}]),onClick:z=>t(e).model.roles=a.id},f(a.name),11,$)]))),256))])])]),o("div",q,[o("h1",{class:"pb-4 mb-6 text-xl font-bold border-b"},f(_)),d(x,{modelValue:t(e).model.per_page,"onUpdate:modelValue":r[0]||(r[0]=a=>t(e).model.per_page=a),search:t(e).model.search,"onUpdate:search":r[1]||(r[1]=a=>t(e).model.search=a),total:s.datas.total},null,8,["modelValue","search","total"]),d(y,{headers:n,datas:s.datas,url:"/admin/users",nodelete:"",onOrderBy:r[3]||(r[3]=a=>t(w)(t(e),a))},{filter:u(()=>[d(v,{model:t(e).model,"onUpdate:model":r[2]||(r[2]=a=>t(e).model=a),headers:n},null,8,["model"])]),_:1},8,["datas"]),d(k,{links:s.datas.links},null,8,["links"])])])]),_:1}))}};export{Y as default};
