import{_ as h}from"./Admin-DOYqun6B.js";import{d as g,P as b}from"./useDebouncedRef-YsLSsMRg.js";import{A as y}from"./AdminTable1-jSufGyUc.js";import{A as k}from"./AdminTableFilter-Mv_3ljG5.js";import{A as x,u as w,J as v,h as A,c as B,o as l,w as c,a as s,e as n,l as V,f as a,F as C,i as $,q as F,t as f,b as m}from"./app-b9qMULd5.js";import{_ as U,o as N}from"./orderBy-DeDaQmQw.js";import"./MySelect-B1pFsPWr.js";import"./icon-512-vKo9cVLo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B7-N8Emg.js";import"./DestroyButton-DCWmMz6J.js";import"./Modal-Bt7wjVon.js";import"./ButtonPrimary-B0H5h7AQ.js";/* empty css                                                                         */import"./debounce-ChVGfK0v.js";const O={class:"px-4"},P={key:0,class:"flex flex-wrap"},j={class:"w-full"},S={class:"flex flex-wrap gap-2 pt-3 pb-4 mb-0"},T={class:""},q=["onClick"],z={class:"p-4 bg-white rounded shadow"},_="Хэрэглэгч жагсаалт",ae={__name:"Index",props:{datas:Object,filters:{type:Object,default:()=>({search:""})},places:Array},setup(o){const d=o,i=x().props.auth,e=w({model:{...d.filters,per_page:d.datas.per_page}}).transform(p=>p.model),u=v(()=>[{key:"name",name:"Нэр",order:"name",filter:!0},{key:"username",name:"Нэвтрэх нэр",order:"username",filter:!0},{key:"aimag_city.name",name:"Айман/нийслэл",order:"aimag_city_id",url:"/admin/aimag_cities",filter:!0},{key:"soum_district.name",name:"Сум/Дүүрэг",order:"soum_district_id",url:`/admin/soum_districts?aimag_city_id=${d.filters.aimag_city_id}`,filter:!0},{key:"bag_horoo.name",name:"Баг хороо",order:"bag_horoo_id",url:`/admin/bag_horoos?soum_district_id=${d.filters.soum_district_id}`,filter:!0},{key:"phone",name:"Утас",order:"phone",filter:!0},i.user.roles=="admin"?{key:"roles",name:"Эхийн түвшин",order:"roles",filter:!0}:{key:"place.name",name:"Харьялах нэгж",order:"place_id",url:"/admin/places",filter:!0}]);return i.user.roles=="admin"||i.user.roles=="da",A(()=>e.model,g(()=>e.get("",{preserveState:!0}),150),{deep:!0}),(p,r)=>(l(),B(h,{title:_},{default:c(()=>[s("div",O,[a(i).user.roles=="admin"?(l(),n("div",P,[s("div",j,[s("div",S,[(l(!0),n(C,null,$(o.places,t=>(l(),n("div",T,[s("a",{class:F(["block px-5 py-3 text-xs font-bold leading-normal text-[#406f47] uppercase bg-white rounded shadow-lg",{"!text-white !bg-[#406f47]":a(e).model.place_id==t.id}]),onClick:D=>a(e).model.place_id=t.id},f(t.name),11,q)]))),256))])])])):V("",!0),s("div",z,[s("h1",{class:"pb-4 mb-6 text-xl font-bold border-b"},f(_)),m(U,{modelValue:a(e).model.per_page,"onUpdate:modelValue":r[0]||(r[0]=t=>a(e).model.per_page=t),onUpdate:r[1]||(r[1]=()=>a(e).model.page=1),search:a(e).model.search,"onUpdate:search":r[2]||(r[2]=t=>a(e).model.search=t),total:o.datas.total},null,8,["modelValue","search","total"]),m(y,{headers:u.value,datas:o.datas,url:"/admin/users",nodelete:"",onOrderBy:r[4]||(r[4]=t=>a(N)(a(e),t))},{filter:c(()=>[m(k,{model:a(e).model,"onUpdate:model":r[3]||(r[3]=t=>a(e).model=t),headers:u.value},null,8,["model","headers"])]),_:1},8,["headers","datas"]),m(b,{links:o.datas.links},null,8,["links"])])])]),_:1}))}};export{ae as default};
