import{_ as g}from"./Admin-iBhKooEB.js";import{d as b,P as k}from"./useDebouncedRef-CGUeJRBe.js";import{_ as x,A as y,o as w}from"./orderBy-DjQTPKG-.js";import{A as v}from"./AdminTableFilter-CnQSFbzz.js";import{A as B,u as A,h as V,c as C,o as l,w as u,a as r,e as c,F,i as U,f as a,q as O,t as f,b as d}from"./app-wWMkuNaz.js";import"./MySelect-D2Y1GmOc.js";import"./icon-512-vKo9cVLo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-W2WKtWKu.js";import"./DestroyButton-D59TqHTg.js";import"./Modal-B4ZGIflR.js";import"./ButtonPrimary-BKbCaAy_.js";import"./debounce-x2N35p57.js";const P={class:"px-4"},$={class:"flex flex-wrap"},j={class:"w-full"},N={class:"flex flex-wrap gap-2 pt-3 pb-4 mb-0"},S={class:""},T=["onClick"],q={class:"p-4 bg-white rounded shadow"},_="Хэрэглэгч жагсаалт",Y={__name:"Index",props:{datas:Object,filters:{type:Object,default:()=>({search:""})}},setup(s){const i=s,m=[{key:"name",name:"Нэр",order:"name",filter:!0},{key:"username",name:"Нэвтрэх нэр",order:"username",filter:!0},{key:"aimag_city.name",name:"Айман/нийслэл",order:"aimag_city_id",url:"/admin/aimag_cities",filter:!0},{key:"soum_district.name",name:"Сум/Дүүрэг",order:"soum_district_id",url:"/admin/soum_districts",filter:!0},{key:"bag_horoo.name",name:"Баг хороо",order:"bag_horoo_id",url:"/admin/bag_horoos",filter:!0},{key:"phone",name:"Утас",order:"phone",filter:!0},{key:"place.name",name:"Харьялах нэгж",order:"place_id",url:"/admin/places",filter:!0}],n=B().props.auth,h=n.user.roles=="admin"?[{id:"admin",name:"Админ"},{id:"da",name:"Аймаг, дүүрэг"},{id:"mha",name:"БОХУБ"}]:n.user.roles=="da"?[{id:"mha",name:"БОХУБ"}]:[],e=A({model:{...i.filters,per_page:i.datas.per_page}}).transform(p=>p.model);return V(()=>e.model,b(()=>e.get("",{preserveState:!0}),150),{deep:!0}),(p,o)=>(l(),C(g,{title:_},{default:u(()=>[r("div",P,[r("div",$,[r("div",j,[r("div",N,[(l(!0),c(F,null,U(a(h),t=>(l(),c("div",S,[r("a",{class:O(["block px-5 py-3 text-xs font-bold leading-normal text-[#406f47] uppercase bg-white rounded shadow-lg",{"!text-white !bg-[#406f47]":a(e).model.roles==t.id}]),onClick:z=>a(e).model.roles=t.id},f(t.name),11,T)]))),256))])])]),r("div",q,[r("h1",{class:"pb-4 mb-6 text-xl font-bold border-b"},f(_)),d(x,{modelValue:a(e).model.per_page,"onUpdate:modelValue":o[0]||(o[0]=t=>a(e).model.per_page=t),onUpdate:o[1]||(o[1]=()=>a(e).model.page=1),search:a(e).model.search,"onUpdate:search":o[2]||(o[2]=t=>a(e).model.search=t),total:s.datas.total},null,8,["modelValue","search","total"]),d(y,{headers:m,datas:s.datas,url:"/admin/users",nodelete:"",onOrderBy:o[4]||(o[4]=t=>a(w)(a(e),t))},{filter:u(()=>[d(v,{model:a(e).model,"onUpdate:model":o[3]||(o[3]=t=>a(e).model=t),headers:m},null,8,["model"])]),_:1},8,["datas"]),d(k,{links:s.datas.links},null,8,["links"])])])]),_:1}))}};export{Y as default};
