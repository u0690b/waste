import{k as H,_ as T,a as U}from"./pickBy.1c63e4aa.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as k,o as n,c as d,a as t,F as g,k as _,f as m,n as p,h,j as S,N as $,D as j,J as z,H as M,i as b,L as y,O as V,b as C,w as f,u as B,T as O,p as D,P as R,M as A,Q as N,t as v,e as L}from"./app.02386b88.js";function E(o){return function(r,e,l){for(var c=-1,a=Object(r),i=l(r),s=i.length;s--;){var u=i[o?s:++c];if(e(a[u],u,a)===!1)break}return r}}var I=E,P=I,W=P(),q=W,J=q,Q=H;function G(o,r){return o&&J(o,r,Q)}var K=G,X=U,Y=K,Z=T;function ee(o,r){var e={};return r=Z(r),Y(o,function(l,c,a){X(e,c,r(l,c,a))}),e}var Qe=ee;const te={props:{links:Array}},se={key:0},re={class:"flex flex-wrap justify-between -mb-1 lg:justify-center"},ne=["innerHTML"];function oe(o,r,e,l,c,a){const i=k("inertia-link");return e.links.length>3?(n(),d("div",se,[t("div",re,[(n(!0),d(g,null,_(e.links,(s,u)=>(n(),d(g,null,[s.url===null?(n(),d("div",{key:u,class:"px-3 py-2 mb-1 mr-1 text-sm leading-4 text-indigo-100 border rounded",innerHTML:s.label},null,8,ne)):u==0||u==e.links.length-1?(n(),m(i,{key:`asd1_${u}`,class:p(["px-3 py-2 mb-1 mr-1 text-sm leading-4 border rounded hover:bg-gray-50 focus:border-indigo-500 focus:text-indigo-600",{"bg-gray":s.active}]),href:s.url,innerHTML:s.label},null,8,["class","href","innerHTML"])):(n(),m(i,{key:`asd_${u}`,class:p(["hidden px-3 py-2 mb-1 mr-1 text-sm leading-4 border rounded lg:flex hover:bg-gray-50 focus:border-indigo-500 focus:text-indigo-600",{"bg-indigo-50":s.active}]),href:s.url,innerHTML:s.label},null,8,["class","href","innerHTML"]))],64))),256))])])):h("",!0)}const Ge=w(te,[["render",oe]]),ae=(o,r=0,e=!1)=>{let l;return(...c)=>{e&&!l&&o(...c),clearTimeout(l),l=setTimeout(()=>{o(...c)},r)}},le=(o,r,e)=>{const l=S(o);return $((a,i)=>({get(){return a(),l.value},set:ae(s=>{l.value=s,i()},r,e)}))},ie={class:"relative"},de={__name:"Dropdown",props:{align:{default:"right"},width:{default:"48"},contentClasses:{default:()=>["py-1","bg-white"]}},setup(o){const r=o,e=i=>{a.value&&i.key==="Escape"&&(a.value=!1)};j(()=>document.addEventListener("keydown",e)),z(()=>document.removeEventListener("keydown",e));const l=M(()=>({48:"w-48"})[r.width.toString()]),c=M(()=>r.align==="left"?"origin-top-left left-0":r.align==="right"?"origin-top-right right-0":"origin-top"),a=S(!1);return(i,s)=>(n(),d("div",ie,[t("div",{onClick:s[0]||(s[0]=u=>a.value=!a.value)},[b(i.$slots,"trigger")]),y(t("div",{class:"fixed inset-0 z-40",onClick:s[1]||(s[1]=u=>a.value=!1)},null,512),[[V,a.value]]),C(O,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:f(()=>[y(t("div",{class:p(["absolute z-50 mt-2 rounded-md shadow-lg",[B(l),B(c)]]),style:{display:"none"},onClick:s[2]||(s[2]=u=>a.value=!1)},[t("div",{class:p(["rounded-md ring-1 ring-black ring-opacity-5",o.contentClasses])},[b(i.$slots,"content")],2)],2),[[V,a.value]])]),_:3})]))}},ce={components:{Dropdown:de},props:{search:String,maxWidth:{type:Number,default:300}},emits:["reset","update:modelValue"],setup(o,{emit:r}){const e=le(o.search,400);return D(e,c=>r("update:modelValue",c)),{searchRef:e,reset:()=>{e.value="",r("reset")}}}},ue={class:"flex items-center"},he={class:"flex w-full bg-gray-100 divide-x rounded shadow"},fe=t("div",{class:"flex items-baseline justify-center"},[t("span",{class:"hidden text-gray-700 md:inline"},"Filter"),t("svg",{class:"w-2 h-2 fill-gray-700 md:ml-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 961.243 599.998"},[t("path",{d:"M239.998 239.999L0 0h961.243L721.246 240c-131.999 132-240.28 240-240.624 239.999-.345-.001-108.625-108.001-240.624-240z"})])],-1);function me(o,r,e,l,c,a){const i=k("Dropdown");return n(),d("div",ue,[t("div",he,[C(i,{align:"left",overlay:"",class:"hover:bg-gray-100 w-28"},{filter:f(()=>[fe]),content:f(()=>[t("div",{class:"px-4 py-6 mt-2 bg-white rounded",style:R({maxWidth:`${e.maxWidth}px`})},[b(o.$slots,"default")],4)]),_:3}),y(t("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>l.searchRef=s),class:"relative w-full px-6 py-3 rounded-r focus:outline-none focus:ring",autocomplete:"off",type:"text",name:"search",placeholder:"Search\u2026"},null,512),[[A,l.searchRef]])]),t("button",{class:"ml-3 text-sm text-gray-500 hover:text-gray-700 focus:text-indigo-500",type:"button",onClick:r[1]||(r[1]=(...s)=>l.reset&&l.reset(...s))},"Reset")])}const Ke=w(ce,[["render",me]]),ge={props:{type:{type:String,default:"material-icons-outlined"}}};function ve(o,r,e,l,c,a){return n(),d("i")}const _e=w(ge,[["render",ve]]),pe={components:{Icon:_e},props:{headers:{type:Object,required:!0},datas:{type:Object,required:!0},url:String,insertUrl:[String],deleteUrl:[String],showUrl:[String]},emits:["orderBy"],setup(o){return{parseVal:(e,l)=>{var i;let c="",a=l.split(".");return a.length==1?c=e[a[0]]:e[a[0]]&&e[a[0]][a[1]]?c=(i=e[a[0]][a[1]])!=null?i:"":c="",c}}},methods:{destroy(o){confirm("\u0422\u0430 \u0443\u0441\u0442\u0433\u0430\u0445\u0434\u0430\u0430 \u0438\u0442\u0433\u044D\u043B\u0442\u044D\u0439 \u0431\u0430\u0439\u043D\u0430 \u0443\u0443?")&&N.Inertia.delete(this.route(this.deleteUrl,o))}}},we={class:""},xe={class:"w-full mt-2 text-gray-500"},be={class:"border-b uppercase"},ye={class:"font-bold text-left"},ke=t("th",{class:"pl-2 w-11"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})])],-1),Ce=["onClick"],Me={key:0,class:"pl-2"},Ve={class:"flex"},Be={key:0,class:"col-sm-2 ml-2"},Le=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),Se={class:"pl-2 border-t"},Fe={key:1,class:"items-center"},He={class:"pl-2 py-2 border-t"},Te={key:0,class:"row flex"},Ue={class:"col-sm-2"},$e=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),je={key:0,class:"col-sm-2"},ze=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Oe={key:1,class:"col-sm-2"},De=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),Re={key:2,class:"col-sm-2"},Ae=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})],-1),Ne={key:0},Ee=t("td",{class:"px-6 py-4 border-t",colspan:"4"},"\u041C\u044D\u0434\u044D\u044D\u043B\u044D\u043B \u0431\u0430\u0439\u0445\u0433\u04AF\u0439",-1),Ie=[Ee];function Pe(o,r,e,l,c,a){const i=k("inertia-link");return n(),d("div",we,[t("table",xe,[t("thead",be,[t("tr",ye,[ke,(n(!0),d(g,null,_(Object.values(e.headers),(s,u)=>(n(),d("th",{key:u,class:"text-gray-600",onClick:x=>o.$emit("orderBy",u)},v(s),9,Ce))),128)),e.url?(n(),d("th",Me,[t("span",Ve,[L(" \u04AE\u0439\u043B\u0434\u044D\u043B "),e.insertUrl?(n(),d("div",Be,[C(i,{href:e.insertUrl,class:"flex px-2 mr-4 bg-green-500 p-2 text-white rounded-md hover:bg-green-600"},{default:f(()=>[Le]),_:1},8,["href"])])):h("",!0)])])):h("",!0)])]),t("tbody",null,[(n(!0),d(g,null,_(e.datas.data,(s,u)=>(n(),d("tr",{key:s.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",Se,v(u+1),1),(n(!0),d(g,null,_(Object.keys(e.headers),(x,F)=>(n(),d("td",{key:F,class:"px-2 py-2 border-t"},[e.url?(n(),m(i,{key:0,href:o.route(e.url,s.id),class:"items-center focus:text-indigo-500"},{default:f(()=>[L(v(l.parseVal(s,x)),1)]),_:2},1032,["href"])):(n(),d("span",Fe,v(l.parseVal(s,x)),1))]))),128)),t("td",He,[e.url?(n(),d("div",Te,[t("div",Ue,[e.url?(n(),m(i,{key:0,href:o.route(e.url,s.id),class:"flex px-2 mr-4 bg-orange-500 p-2 text-white rounded-md hover:bg-orange-600"},{default:f(()=>[$e]),_:2},1032,["href"])):h("",!0)]),e.deleteUrl?(n(),d("div",je,[e.url?(n(),m(i,{key:0,onClick:()=>a.destroy(s.id),as:"buttom",class:"flex px-2 mr-4 bg-red-500 p-2 text-white rounded-md hover:bg-red-600"},{default:f(()=>[ze]),_:2},1032,["onClick"])):h("",!0)])):h("",!0),e.insertUrl?(n(),d("div",Oe,[e.url?(n(),m(i,{key:0,href:e.insertUrl,class:"flex px-2 mr-4 bg-green-500 p-2 text-white rounded-md hover:bg-green-600"},{default:f(()=>[De]),_:1},8,["href"])):h("",!0)])):h("",!0),e.showUrl?(n(),d("div",Re,[e.url?(n(),m(i,{key:0,href:o.route(e.showUrl,s.id),class:"flex px-2 mr-4 bg-orange-500 p-2 text-white rounded-md hover:bg-orange-600"},{default:f(()=>[Ae]),_:2},1032,["href"])):h("",!0)])):h("",!0)])):h("",!0)])]))),128)),e.datas.length===0?(n(),d("tr",Ne,Ie)):h("",!0)])])])}const Xe=w(pe,[["render",Pe]]);export{Xe as A,_e as I,Ge as P,Ke as S,Qe as m};
