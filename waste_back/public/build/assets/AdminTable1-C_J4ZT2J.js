import{r as p,e as l,o as s,a,p as B,F as _,i as k,t as f,c as y,l as m,q as w,w as b,d as v,j as A,J as C}from"./app-DfdoHOCl.js";import{_ as V}from"./DestroyButton-CW8S913a.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={props:{headers:{type:Object,required:!0},datas:{type:Object,required:!0},url:String,showAdd:{type:[Boolean],default:!1},nodelete:{type:Boolean,default:!1},noadd:{type:Boolean,default:!1},noedit:{type:Boolean,default:!1}},emits:["orderBy","showAdd","update:showAdd"],setup(d,{emit:o}){const e=(u,r)=>{let h="",t=r.split(".");if(t.length==1)h=u[t[0]];else{let c=u;for(r of t)try{c=c[r]}catch(n){console.info(t,n==null?void 0:n.message)}h=c}return h},i=C({get(){return!!d.showAdd},set(u){o("update:showAdd",u)}}),g="callback="+(new URLSearchParams(window.location.search).get("callback")??encodeURIComponent(location.pathname+location.search));return{parseVal:e,isShow:i,callback:g}},methods:{destroy(d){confirm("Та устгахдаа итгэлтэй байна уу?")&&A.delete(this.url+"/"+d+(this.callback??""))},show(){this.show.values=!this.show.values,this.add}},components:{DestroyButton:V}},L={class:""},j={class:"w-full mt-2 text-gray-500 table-bordered text-sm"},q={class:"border-b"},I={class:"text-left"},N=["onClick"],F={class:"w-20 pl-2"},O={class:"pl-2"},R=["src"],T={key:1,class:"items-center"},U={class:"py-1 pl-2 text-center"},z={key:0},E=["colspan"];function J(d,o,e,i,g,u){const r=p("ILink"),h=p("DestroyButton");return s(),l("div",L,[a("table",j,[a("thead",q,[a("tr",I,[o[0]||(o[0]=a("th",{class:"pl-2 w-11"},[a("i",{class:"ti-list"})],-1)),(s(!0),l(_,null,k(e.headers,(t,c)=>(s(),l("th",{key:c,class:"text-gray-600",onClick:n=>d.$emit("orderBy",t.order)},f(t.name),9,N))),128)),a("th",F,[e.url?(s(),y(r,{key:0,href:`${e.url}/create`,class:"btn btn-success ti-plus"},null,8,["href"])):m("",!0)])])]),B(d.$slots,"filter"),a("tbody",null,[(s(!0),l(_,null,k(e.datas.data,(t,c)=>(s(),l("tr",{key:t.id,class:"border-t hover:bg-gray-100 focus-within:bg-gray-100"},[a("td",O,f(c+1+e.datas.per_page*(e.datas.current_page-1)),1),(s(!0),l(_,null,k(e.headers,(n,x)=>(s(),l("td",{key:x,class:"px-2 py-1"},[n.type=="img"?(s(),l("img",{key:0,src:t[n.key],class:w(n.class)},null,10,R)):(s(),l(_,{key:1},[!e.noadd&&e.url?(s(),y(r,{key:0,href:e.url+"/"+t.id+"?"+(i.callback??""),class:"items-center focus:text-primary-500"},{default:b(()=>[v(f(i.parseVal(t,n.key)),1)]),_:2},1032,["href"])):(s(),l("span",T,f(i.parseVal(t,n.key)),1))],64))]))),128)),a("td",U,[!e.nodelete&&e.url?(s(),y(h,{key:0,href:e.url+"/"+t.id,title:"устгах",class:"inline-block px-1 py-0"},{default:b(()=>o[1]||(o[1]=[a("i",{class:"ti-trash"},null,-1)])),_:2,__:[1]},1032,["href"])):m("",!0),!e.noedit&&e.url?(s(),y(r,{key:1,href:e.url+"/"+t.id+"/edit?"+(i.callback??""),class:"inline-block px-2 text-white bg-orange-500 rounded hover:bg-orange-700",title:"Засах"},{default:b(()=>o[2]||(o[2]=[a("i",{class:"ti-pencil-alt"},null,-1)])),_:2,__:[2]},1032,["href"])):m("",!0)])]))),128)),e.datas.data.length===0?(s(),l("tr",z,[a("td",{class:"px-6 py-4",colspan:e.headers.length+2},"Мэдээлэл байхгүй ",8,E)])):m("",!0)])])])}const K=S(D,[["render",J]]);export{K as A};
