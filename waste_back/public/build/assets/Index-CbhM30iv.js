import{u as B,h as M,J as S,r as T,c as b,o as d,w as l,a as t,b as r,d as p,f as o,q as c,k as V,v as z,e as f,F as I,i as $,t as a,l as g,T as F}from"./app-DGHab_kQ.js";import{g as L,S as O,d as P,e as y,_ as q}from"./Admin-H_g-vRXR.js";import{d as A,P as E}from"./useDebouncedRef-BBCulqAy.js";import"./MySelect-CAur4CD6.js";/* empty css                                                                         */import"./icon-512-vKo9cVLo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-2ky_AOsw.js";import"./debounce-BGqm79Vt.js";const J={class:"flex justify-between px-4 mt-4 sm:px-8"},R={class:"flex items-center space-x-1 text-xs"},U={class:"p-4 mt-8 sm:px-8 sm:py-4"},G={class:"flex flex-wrap"},H={class:"w-full"},K={class:"flex flex-row flex-wrap pt-3 pb-4 mb-0 list-none"},Q={class:"flex-auto mr-2 -mb-px text-center last:mr-0"},W={class:"-mb-px mr-2 last:mr-0 flex-auto text-center"},X={class:"flex-auto mr-2 -mb-px text-center last:mr-0"},Y={class:"relative flex flex-col w-full min-w-0 mb-6 break-words bg-white rounded shadow-lg"},Z={class:"flex-auto px-4 py-5"},tt={class:"tab-content tab-space"},et={class:"p-4 bg-white rounded"},st={class:"flex justify-between"},lt={class:"relative text-gray-400"},ot={class:"w-full mt-2 text-gray-500"},rt={class:"divide-y divide-gray-200"},at={class:"flex items-center py-4"},nt={class:"px-4"},it={href:"#",class:"text-gray-600 font-bolder"},dt={class:"text-sm font-bold"},ut={key:0,class:"px-2 py-1 text-xs text-white bg-orange-500 rounded"},ct={key:1,class:"px-2 py-1 text-xs text-white bg-green-500 rounded"},xt={key:2,class:"px-2 py-1 text-xs text-white bg-blue-500 rounded"},mt={class:"text-right"},pt={class:"px-1 py-1"},ft={class:"flex items-center justify-between py-2 border-t border-gray-200"},gt={class:"hidden sm:flex-2 sm:flex sm:items-center sm:justify-between"},Dt={__name:"Index",props:{datas:Object,host:String,auth:[Object,Array],filters:{type:Object,default:()=>({search:""})}},setup(x){const w=x,n=B({model:{...w.filters,per_page:w.datas.per_page}}).transform(i=>i.model);M(()=>n.model,A(()=>n.get("",{preserveState:!0}),150),{deep:!0});const h=S(()=>parseInt(n.model_id)??2),N=(i,e)=>{let u=isNaN(Date.parse(e))?Date.parse(new Date().toString())-Date.parse(i):Date.parse(e)-Date.parse(i);return(isNaN(u)?"~":Math.ceil(u/(1e3*3600*24)))+" хоног"};return(i,e)=>{const u=T("ILink");return d(),b(q,null,{default:l(()=>[t("div",J,[e[7]||(e[7]=t("h2",{class:"text-xl text-gray-600"},"Зөрчлийн бүртгэл",-1)),t("div",R,[r(u,{href:"/",class:"text-sm font-bold text-indigo-700"},{default:l(()=>e[4]||(e[4]=[p("Нүүр хуудас",-1)])),_:1,__:[4]}),e[5]||(e[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-2 h-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),e[6]||(e[6]=t("span",{class:"text-sm text-gray-600"},"Зөрчлийн бүртгэл",-1))])]),t("div",U,[t("div",G,[t("div",H,[t("ul",K,[t("li",Q,[t("a",{class:c(["block px-5 py-3 text-xs font-bold leading-normal text-orange-600 uppercase bg-white rounded shadow-lg",{"!text-white !bg-orange-600":h.value===2}]),onClick:e[0]||(e[0]=s=>o(n).model.status_id=2)}," Илгээсэн ",2)]),t("li",W,[t("a",{class:c(["text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal text-blue-600 bg-white",{"!text-white !bg-blue-600":h.value===3}]),onClick:e[1]||(e[1]=s=>o(n).model.status_id=3)}," Шилжүүлсэн ",2)]),t("li",X,[t("a",{class:c(["block px-5 py-3 text-xs font-bold leading-normal text-green-600 uppercase bg-white rounded shadow-lg",{"!text-white !bg-green-600":h.value===4}]),onClick:e[2]||(e[2]=s=>o(n).model.status_id=4)}," Шийдвэрлэсэн ",2)])]),t("div",Y,[t("div",Z,[t("div",tt,[t("div",null,[t("div",et,[t("div",st,[t("div",null,[t("div",lt,[e[8]||(e[8]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),V(t("input",{id:"search",name:"search",type:"search","onUpdate:modelValue":e[3]||(e[3]=s=>o(n).search=s),class:"w-full py-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10",placeholder:"Бүртгэл хайх"},null,512),[[z,o(n).search]])])])]),t("table",ot,[e[14]||(e[14]=t("thead",{class:"border-b"},[t("tr",null,[t("th",{class:"p-2 text-left text-gray-600"},[t("input",{type:"checkbox",class:"w-5 h-5 text-blue-500 border-gray-300 rounded cursor-pointer focus:ring-0"})]),t("th",{class:"text-left text-gray-600"},"ЗӨРЧЛИЙН МЭДЭЭЛЭЛ"),t("th",{class:"text-left text-gray-600"},"ЗӨРЧЛИЙН ТӨРӨЛ"),t("th",{class:"text-left text-gray-600"},"ХЭРЭГЛЭГЧ"),t("th",{class:"text-left text-gray-600"},"ТӨЛӨВ"),t("th",{class:"text-left text-gray-600"},"ЗАРЦУУЛСАН ХУГАЦАА"),t("th",{class:"text-left text-gray-600"},"БҮРТГЭСЭН ОГНОО"),t("th",{class:"text-right text-gray-600"},"ҮЙЛДЛҮҮД")])],-1)),t("tbody",rt,[(d(!0),f(I,null,$(x.datas.data,s=>{var _,v,k,j,C,D;return d(),f("tr",null,[e[13]||(e[13]=t("td",{class:"p-2"},[t("input",{type:"checkbox",class:"w-5 h-5 text-blue-500 border-gray-300 rounded cursor-pointer focus:ring-0"})],-1)),t("td",at,[t("div",nt,[t("div",null,[t("a",it,a(s.name),1)]),t("div",dt,a(s.register),1)])]),t("td",null,a(((_=s.reason)==null?void 0:_.name)??""),1),t("td",null,a(s.status_id==2?((v=s.reg_user)==null?void 0:v.name)??"":((k=s.comf_user)==null?void 0:k.name)??""),1),t("td",null,[s.status_id==2?(d(),f("span",ut,a(((j=s.status)==null?void 0:j.name)??"хоосон"),1)):g("",!0),s.status_id==3?(d(),f("span",ct,a(((C=s.status)==null?void 0:C.name)??"хоосон"),1)):g("",!0),s.status_id==4?(d(),f("span",xt,a(((D=s.status)==null?void 0:D.name)??"хоосон"),1)):g("",!0)]),t("td",null,a(N(s.created_at,s.resolved_at)),1),t("td",null,a(s.created_at),1),t("td",mt,[r(o(L),{as:"div",class:"relative inline-block text-left"},{default:l(()=>[t("div",null,[r(o(O),{class:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-md hover:bg-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:l(()=>e[9]||(e[9]=[p(" Үйлдэл ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 ml-2 -mr-1 text-violet-200 hover:text-violet-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])),_:1,__:[9]})]),r(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:l(()=>[r(o(P),{class:"absolute right-0 z-50 w-32 mt-1 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:l(()=>[t("div",pt,[r(o(y),null,{default:l(({active:m})=>[r(u,{href:i.route("admin.registers.show",s.id),class:c([m?"bg-gray-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:l(()=>e[10]||(e[10]=[t("i",{class:"ti ti-book text-gray-500 font-bold mr-2"},null,-1),p(" Дэлгэрэнгүй ",-1)])),_:2,__:[10]},1032,["href","class"])]),_:2},1024),s.status_id!=4&&(x.auth.user.roles=="da"||x.auth.user.roles=="admin")?(d(),b(o(y),{key:0},{default:l(({active:m})=>[r(u,{href:i.route("admin.register.allocation",s.id),class:c([m?"bg-blue-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:l(()=>e[11]||(e[11]=[t("i",{class:"ti ti-direction-alt text-gray-500 font-bold mr-2"},null,-1),p(" Шилжүүлэх ",-1)])),_:2,__:[11]},1032,["href","class"])]),_:2},1024)):g("",!0),s.status_id!=4?(d(),b(o(y),{key:1},{default:l(({active:m})=>[r(u,{href:i.route("admin.registers.show_resolve",s.id),class:c([m?"bg-green-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:l(()=>e[12]||(e[12]=[t("i",{class:"ti ti-stamp text-gray-500 font-bold mr-2"},null,-1),p(" Шийдвэрлэх ",-1)])),_:2,__:[12]},1032,["href","class"])]),_:2},1024)):g("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),256))])]),t("div",ft,[e[15]||(e[15]=t("div",{class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},null,-1)),t("div",gt,[r(E,{links:x.datas.links},null,8,["links"])])])])])])])])])])])]),_:1})}}};export{Dt as default};
