import{r as k,e as d,o as l,a as t,p as v,F as f,i as p,t as u,c as _,l as g,q as w,w as b,d as B,j as V,J as C}from"./app-25YrsuDy.js";import{_ as S}from"./DestroyButton-DxZfP3kq.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={props:{headers:{type:Object,required:!0},datas:{type:Object,required:!0},url:String,showAdd:{type:[Boolean],default:!1},nodelete:{type:Boolean,default:!1},noadd:{type:Boolean,default:!1},noedit:{type:Boolean,default:!1}},emits:["orderBy","showAdd","update:showAdd"],setup(a,{emit:o}){const e=(h,n)=>{let r="",s=n.split(".");if(s.length==1)r=h[s[0]];else{let m=h;for(n of s)try{m=m[n]}catch(c){console.info(s,c==null?void 0:c.message)}r=m}return r},i=C({get(){return!!a.showAdd},set(h){o("update:showAdd",h)}}),y="callback="+(new URLSearchParams(window.location.search).get("callback")??encodeURIComponent(location.pathname+location.search));return{parseVal:e,isShow:i,callback:y}},methods:{destroy(a){confirm("Та устгахдаа итгэлтэй байна уу?")&&V.delete(this.url+"/"+a+(this.callback??""))},show(){this.show.values=!this.show.values,this.add}},components:{DestroyButton:S}},j={class:""},q={class:"w-full mt-2 text-gray-500 table-bordered text-sm"},z={class:"border-b"},I={class:"text-left"},L=["onClick"],F={class:"w-20 pl-2"},D={class:"pl-2"},M=["src"],O={key:1,class:"items-center"},P={class:"py-1 pl-2 text-center"},R={key:0},T=["colspan"];function U(a,o,e,i,y,h){const n=k("ILink"),r=k("DestroyButton");return l(),d("div",j,[t("table",q,[t("thead",z,[t("tr",I,[o[0]||(o[0]=t("th",{class:"pl-2 w-11"},[t("i",{class:"ti-list"})],-1)),(l(!0),d(f,null,p(e.headers,(s,m)=>(l(),d("th",{key:m,class:"text-gray-600",onClick:c=>a.$emit("orderBy",s.order)},u(s.name),9,L))),128)),t("th",F,[e.url?(l(),_(n,{key:0,href:`${e.url}/create`,class:"btn btn-success ti-plus"},null,8,["href"])):g("",!0)])])]),v(a.$slots,"filter"),t("tbody",null,[(l(!0),d(f,null,p(e.datas.data,(s,m)=>(l(),d("tr",{key:s.id,class:"border-t hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",D,u(m+1+e.datas.per_page*(e.datas.current_page-1)),1),(l(!0),d(f,null,p(e.headers,(c,x)=>(l(),d("td",{key:x,class:"px-2 py-1"},[c.type=="img"?(l(),d("img",{key:0,src:s[c.key],class:w(c.class)},null,10,M)):(l(),d(f,{key:1},[!e.noadd&&e.url?(l(),_(n,{key:0,href:e.url+"/"+s.id+"?"+(i.callback??""),class:"items-center focus:text-primary-500"},{default:b(()=>[B(u(i.parseVal(s,c.key)),1)]),_:2},1032,["href"])):(l(),d("span",O,u(i.parseVal(s,c.key)),1))],64))]))),128)),t("td",P,[!e.nodelete&&e.url?(l(),_(r,{key:0,href:e.url+"/"+s.id,title:"устгах",class:"inline-block px-1 py-0"},{default:b(()=>o[1]||(o[1]=[t("i",{class:"ti-trash"},null,-1)])),_:2,__:[1]},1032,["href"])):g("",!0),!e.noedit&&e.url?(l(),_(n,{key:1,href:e.url+"/"+s.id+"/edit?"+(i.callback??""),class:"inline-block px-2 text-white bg-orange-500 rounded hover:bg-orange-700",title:"Засах"},{default:b(()=>o[2]||(o[2]=[t("i",{class:"ti-pencil-alt"},null,-1)])),_:2,__:[2]},1032,["href"])):g("",!0)])]))),128)),e.datas.data.length===0?(l(),d("tr",R,[t("td",{class:"px-6 py-4",colspan:e.headers.length+2},"Мэдээлэл байхгүй ",8,T)])):g("",!0)])])])}const ee=A(N,[["render",U]]),E={class:"flex flex-wrap justify-between gap-4 mb-2"},J={class:"relative text-gray-400 w-[300px]"},G=["value"],H=["value"],K={value:"10"},Q={value:"30"},W={value:"50"},X={value:"100"},te={__name:"PaginationFilter",props:{modelValue:{type:[Number,String],default:10},search:{type:[String,Number],default:""},total:{type:Number,required:!0}},emits:["update:modelValue","update:search","update"],setup(a,{emit:o}){const e=o,i=()=>{e("update")},y=n=>{e("update:modelValue",n),i()},h=n=>{e("update:search",n),i()};return(n,r)=>(l(),d("div",E,[t("div",J,[r[2]||(r[2]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),t("input",{id:"search",name:"search",type:"search",value:a.search,onInput:r[0]||(r[0]=s=>h(s.target.value)),class:"w-full py-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10",placeholder:"Шалтгаан хайх"},null,40,G)]),t("select",{value:a.modelValue,onChange:r[1]||(r[1]=s=>y(s.target.value)),class:"text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10"},[t("option",K,"10/"+u(a.total),1),t("option",Q,"30/"+u(a.total),1),t("option",W,"50/"+u(a.total),1),t("option",X,"100/"+u(a.total),1)],40,H)]))}},se=(a,o)=>{a.model.orderBy=o,a.model.dir=a.model.dir=="desc"?"asc":"desc"};export{ee as A,te as _,se as o};
