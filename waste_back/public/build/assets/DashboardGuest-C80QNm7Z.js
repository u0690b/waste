import{M as v}from"./MyInput-j_KuZLzo.js";import{at as O,l as _,i as j,q as l,c as M,o as V,b as n,k as r,av as B,w as C,a as s,t as D,d as p,F as I}from"./app-C1PK1slr.js";import{d as S}from"./debounce-C93t8mDT.js";import"./mapValues-BtXAi-XG.js";import{p as z}from"./pickBy-BHy1ZBuc.js";import{V as h}from"./vue3-apexcharts.common-BU6x8NeP.js";import{_ as N}from"./GuestLayout-CcOeHIwE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CyiJiHID.js";const L={class:"container"},E={class:"flex items-center gap-2 py-6 ml-12"},H={class:"pt-6"},F={class:"grid grid-cols-1 gap-4 px-4 mt-8 sm:grid-cols-3 sm:px-8"},P={class:"px-4 py-2 overflow-hidden bg-white border rounded-md shadow"},R={class:"col-span-2 px-4 py-2 overflow-hidden bg-white border rounded-md shadow"},U={class:"grid grid-cols-1 gap-4 px-4 mt-8 sm:grid-cols-3 sm:px-8"},X={class:"col-span-2 px-4 py-2 overflow-hidden bg-white border rounded-md shadow"},q={class:"px-4 py-2 overflow-hidden bg-white border rounded-md shadow"},G={class:"grid grid-cols-2"},T={class:"px-4 py-2 mx-4 mt-8 bg-white border rounded-md shadow sm:mx-8"},W={class:"px-4 py-2 mx-4 mt-8 bg-white border rounded-md shadow sm:mx-8"},oe={__name:"DashboardGuest",props:{datas:Object,chart:[Array],etgeed:[Array],irgen:[Array],filters:[Object,Array],host:String},setup(y){const a=y;let i=O({...a.filters});_(()=>i,S(function(){j.get("/dashboard",z(i),{preserveState:!0})},150),{deep:!0});const c=l(()=>{const o=a.chart.reduce((e,t)=>(e.includes(t.ognoo)||e.push(t.ognoo),e),[]);return{series:a.chart.reduce(function(e,t){let d=e.findIndex(m=>m.name==t.reason);if(d<0){let m={name:t.reason,data:o.map(A=>({x:A,y:0}))};d=e.length,e.push(m)}let u=e[d].data.findIndex(m=>m.x==t.ognoo);return u<0?e[d].data.push({x:t.ognoo,y:t.niit}):e[d].data[u].y=e[d].data[u].y+t.niit,e},[]),chartOptions:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{},yaxis:{title:{text:"Нийт"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"Нийт: "+e}}}}}}),g=l(()=>{const o=a.chart.reduce(function(e,t){return e[t.region]=e[t.region]||0,e[t.region]=e[t.region]+t.niit,e},{});return{chartOptions:{xaxis:{categories:Object.keys(o)}},series:[{name:"series-1",data:Object.values(o)}]}}),b=l(()=>{const o=a.chart.reduce(function(e,t){return e[t.org]=e[t.org]||0,e[t.org]=e[t.org]+t.niit,e},{});return{series:Object.values(o),chartOptions:{chart:{type:"donut"},labels:Object.keys(o),legend:{position:"top"}}}}),x=l(()=>{const o=a.chart.reduce(function(e,t){return e[t.stat]=e[t.stat]||0,e[t.stat]=e[t.stat]+t.niit,e},{});return{series:Object.values(o),chartOptions:{chart:{type:"donut"},labels:Object.keys(o),plotOptions:{legend:{position:"top"}},responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"left"}}}],legend:{position:"top"}}}}),f=l(()=>{const o=a.etgeed.reduce(function(e,t){return e[t.name]=e[t.name]||0,e[t.name]=e[t.name]+t.niit,e},{});return{chartOptions:{xaxis:{categories:Object.keys(o)},yaxis:{labels:{show:!1}},plotOptions:{bar:{borderRadius:4,barHeight:"100%",distributed:!0,horizontal:!0}},dataLabels:{enabled:!0,textAnchor:"start",style:{colors:["#fff"]},formatter:function(e,t){return t.w.globals.labels[t.dataPointIndex]+":  "+e},offsetX:0,dropShadow:{enabled:!0}},tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:function(){return""}}}},stroke:{width:1,colors:["#fff"]},colors:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B","#2b908f","#f9a3a4","#90ee7e","#f48024","#69d2e7"]},series:[{data:Object.values(o)}]}}),w=l(()=>({chartOptions:{chart:{type:"bar"},xaxis:{categories:a.irgen.map(o=>o.name)},yaxis:{labels:{show:!1}},plotOptions:{bar:{borderRadius:4,distributed:!0,horizontal:!0}},dataLabels:{enabled:!0,textAnchor:"start",style:{colors:["#fff"]},formatter:function(o,e){return e.w.globals.labels[e.dataPointIndex]+":  "+o},offsetX:0,dropShadow:{enabled:!0}},colors:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B","#2b908f","#f9a3a4","#90ee7e","#f48024","#69d2e7"]},series:[{data:a.irgen.map(o=>o.niit)}]})),k=l(()=>{let o=Date.parse(i.end)-Date.parse(i.start);return(isNaN(o)?"~":Math.ceil(o/(1e3*3600*24)))+" өдрийн мэдээ"});return(o,e)=>(V(),M(I,null,[n(r(B),{title:"Үндсэн хуудас"}),n(N,null,{default:C(()=>[s("div",L,[e[8]||(e[8]=s("div",{class:"grid gap-4 px-4 mt-8 sm:px-8"},[s("div",{class:"p-4 bg-white rounded-lg md:p-8 dark:bg-gray-800",id:"about",role:"tabpanel","aria-labelledby":"about-tab"},[s("h2",{class:"mb-5 text-2xl font-extrabold tracking-tight text-gray-900 dark:text-white slide-in-bottom"}," Системийн зорилго хүрэх үр дүн: "),s("div",{class:"gap-4 md:flex"}," Хог хаягдлаас хүний эрүүл мэнд, байгаль орчинд үзүүлэх сөрөг нөлөөллийг бууруулах, түүнээс урьдчилан сэргийлэх, хог хаягдлыг эдийн засгийн эргэлтэд оруулж, байгалийн нөөц баялгийг хэмнэх, иргэдийн хог хаягдлын талаархи боловсролыг дээшлүүлэх зорилгоор хог хаягдлыг ил задгай хаяхыг хянах мэдээлэх зорилготой ")])],-1)),s("div",E,[n(v,{modelValue:r(i).start,"onUpdate:modelValue":e[0]||(e[0]=t=>r(i).start=t),type:"date",label:"Эхлэх"},null,8,["modelValue"]),n(v,{modelValue:r(i).end,"onUpdate:modelValue":e[1]||(e[1]=t=>r(i).end=t),type:"date",label:"Дуусах"},null,8,["modelValue"]),s("span",H,D(k.value),1)]),s("div",F,[s("div",P,[e[2]||(e[2]=s("h3",{class:"flex mb-4 text-xl text-gray-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"})]),p("Зөрчлийн төлөв")],-1)),n(r(h),{class:"p-4 bg-white",type:"pie",options:x.value.chartOptions,series:x.value.series},null,8,["options","series"])]),s("div",R,[e[3]||(e[3]=s("h3",{class:"flex mb-4 text-xl text-gray-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"})]),p("Зөрчлийн төрлөөр")],-1)),n(r(h),{class:"p-4 mb-8 bg-white",type:"bar",height:"350",options:c.value.chartOptions,series:c.value.series},null,8,["options","series"])])]),s("div",U,[s("div",X,[e[4]||(e[4]=s("h3",{class:"flex mb-4 text-xl text-gray-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"})]),p("Харьяалагдах нутаг дэвсгэрээр")],-1)),n(r(h),{class:"p-4 mb-8 bg-white",type:"bar",height:"350",options:g.value.chartOptions,series:g.value.series},null,8,["options","series"])]),s("div",q,[e[5]||(e[5]=s("h3",{class:"flex mb-4 text-xl text-gray-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605"})]),p("Зөрчил хуваарилалтаар")],-1)),n(r(h),{class:"p-4 bg-white",type:"pie",options:b.value.chartOptions,series:b.value.series},null,8,["options","series"])])]),s("div",G,[s("div",T,[e[6]||(e[6]=s("h3",{class:"flex mb-4 text-xl text-gray-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z"})]),p(" Олон зөрчил гаргасан аж ахуйн нэгжүүд")],-1)),n(r(h),{class:"p-4 mb-8 bg-white",type:"bar",height:"350",options:f.value.chartOptions,series:f.value.series},null,8,["options","series"])]),s("div",W,[e[7]||(e[7]=s("h3",{class:"flex mb-4 text-xl text-gray-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z"})]),p(" Олон зөрчил гаргасан иргэд")],-1)),n(r(h),{class:"p-4 mb-8 bg-white",type:"bar",height:"350",options:w.value.chartOptions,series:w.value.series},null,8,["options","series"])])])])]),_:1})],64))}};export{oe as default};
