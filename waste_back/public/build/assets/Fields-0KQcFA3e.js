import{u as f,A as w,G as U,e as c,o as i,a as u,b as a,c as n,l as p,f as e,w as v,d as B,g as C}from"./app-CARJDBxm.js";import{B as M}from"./ButtonPrimary-C_MzHmtN.js";import{M as s}from"./MyInput-DOnaYiOT.js";import{M as m}from"./MySelect-D6q42Ov3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./debounce-BOY4wkUO.js";const k={class:"form-grid"},x={class:"flex justify-end pt-4 mt-4 border-t"},F={__name:"Fields",props:{data:{type:Object,default:()=>({})}},emits:["save"],setup(_,{emit:g}){const V=_,b=g,o=f({model:{...V.data}}).transform(t=>t.model),d=w().props.auth.user;U(()=>{o.model.aimag_city=d.aimag_city,o.model.soum_district=d.soum_district,o.model.aimag_city_id=d.aimag_city.id,o.model.soum_district_id=d.soum_district.id});const y=d.roles=="admin"?[{id:"admin",name:"Админ"},{id:"da",name:"Аймаг, дүүрэг админ"},{id:"mha",name:"БОХУБ"}]:d.roles=="da"?[{id:"mha",name:"БОХУБ"}]:[];return(t,l)=>(i(),c("form",{onSubmit:l[13]||(l[13]=C(r=>b("save",e(o)),["prevent"])),class:"field-form"},[u("div",k,[a(s,{modelValue:e(o).model.name,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).model.name=r),error:e(o).errors.name,class:"",label:"Нэр"},null,8,["modelValue","error"]),a(s,{modelValue:e(o).model.username,"onUpdate:modelValue":l[1]||(l[1]=r=>e(o).model.username=r),error:e(o).errors.username,class:"",label:"Нэвтрэх нэр"},null,8,["modelValue","error"]),a(s,{modelValue:e(o).model.password,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).model.password=r),type:"password",autocomplete:"new-password",error:e(o).errors.password,class:"",label:"Нууц үг"},null,8,["modelValue","error"]),a(m,{modelValue:e(o).model.aimag_city,"onUpdate:modelValue":l[3]||(l[3]=r=>e(o).model.aimag_city=r),error:e(o).errors.aimag_city_id,disabled:e(d).roles=="da",label:"Аймаг/нийслэл",url:"/admin/aimag_cities",onChangeId:l[4]||(l[4]=r=>{e(d).roles!="da"&&(e(o).model.aimag_city_id=r,e(o).model.soum_district_id=null,e(o).model.bag_horoo_id=null,e(o).model.soum_district=null,e(o).model.bag_horoo=null)})},null,8,["modelValue","error","disabled"]),e(o).model.aimag_city_id&&e(o).model.aimag_city_id<23?(i(),n(m,{key:0,disabled:e(d).roles=="da"&&e(d).aimag_city_id==7,modelValue:e(o).model.soum_district,"onUpdate:modelValue":l[5]||(l[5]=r=>e(o).model.soum_district=r),error:e(o).errors.soum_district_id,label:"Сум/дүүрэг",required:e(o).model.aimag_city_id<23,url:`/admin/soum_districts?aimag_city_id=${e(o).model.aimag_city_id}`,onChangeId:l[6]||(l[6]=r=>(e(o).model.soum_district_id=r,e(o).model.bag_horoo_id=null))},null,8,["disabled","modelValue","error","required","url"])):p("",!0),e(o).model.soum_district_id?(i(),n(m,{key:1,modelValue:e(o).model.bag_horoo,"onUpdate:modelValue":l[7]||(l[7]=r=>e(o).model.bag_horoo=r),error:e(o).errors.bag_horoo_id,label:"Баг/хороо",url:`/admin/bag_horoos?soum_district_id=${e(o).model.soum_district_id}`,onChangeId:l[8]||(l[8]=r=>e(o).model.bag_horoo_id=r)},null,8,["modelValue","error","url"])):p("",!0),a(s,{modelValue:e(o).model.phone,"onUpdate:modelValue":l[9]||(l[9]=r=>e(o).model.phone=r),error:e(o).errors.phone,class:"",label:"Утас"},null,8,["modelValue","error"]),a(m,{modelValue:e(o).model.place,"onUpdate:modelValue":l[10]||(l[10]=r=>e(o).model.place=r),error:e(o).errors.place_id,class:"",label:"Харьялах нэгж",url:"/admin/places",onChangeId:l[11]||(l[11]=r=>e(o).model.place_id=r)},null,8,["modelValue","error"]),a(m,{modelValue:e(o).model.roles,"onUpdate:modelValue":l[12]||(l[12]=r=>e(o).model.roles=r),modelKey:!0,storedOptions:e(y),error:e(o).errors.roles,label:"Эрх",filterable:!0},null,8,["modelValue","storedOptions","error"])]),u("div",x,[a(M,{disabled:!e(o).isDirty||e(o).processing},{default:v(()=>l[14]||(l[14]=[B(" Хадгалах ",-1)])),_:1,__:[14]},8,["disabled"])])],32))}};export{F as default};
