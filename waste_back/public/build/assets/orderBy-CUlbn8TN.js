import{r as p,e as n,o as l,a as t,p as w,F as m,i as b,t as i,c as f,l as y,q as B,w as k,d as V,j as C,J as A}from"./app-CibjmzfD.js";import{_ as S}from"./DestroyButton-hYnpUMUo.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={props:{headers:{type:Object,required:!0},datas:{type:Object,required:!0},url:String,showAdd:{type:[Boolean],default:!1},nodelete:{type:Boolean,default:!1},noadd:{type:Boolean,default:!1},noedit:{type:Boolean,default:!1}},emits:["orderBy","showAdd","update:showAdd"],setup(a,{emit:s}){const e=(h,r)=>{let _="",o=r.split(".");if(o.length==1)_=h[o[0]];else{let u=h;for(r of o)try{u=u[r]}catch(d){console.info(o,d==null?void 0:d.message)}_=u}return _},c=A({get(){return!!a.showAdd},set(h){s("update:showAdd",h)}}),g="callback="+(new URLSearchParams(window.location.search).get("callback")??encodeURIComponent(location.pathname+location.search));return{parseVal:e,isShow:c,callback:g}},methods:{destroy(a){confirm("Та устгахдаа итгэлтэй байна уу?")&&C.delete(this.url+"/"+a+(this.callback??""))},show(){this.show.values=!this.show.values,this.add}},components:{DestroyButton:S}},j={class:""},z={class:"w-full mt-2 text-gray-500 table-bordered text-sm"},I={class:"border-b"},L={class:"text-left"},q=["onClick"],F={class:"w-20 pl-2"},P={class:"pl-2"},D=["src"],O={key:1,class:"items-center"},R={class:"py-1 pl-2 text-center"},T={key:0},U=["colspan"];function E(a,s,e,c,g,h){const r=p("ILink"),_=p("DestroyButton");return l(),n("div",j,[t("table",z,[t("thead",I,[t("tr",L,[s[0]||(s[0]=t("th",{class:"pl-2 w-11"},[t("i",{class:"ti-list"})],-1)),(l(!0),n(m,null,b(e.headers,(o,u)=>(l(),n("th",{key:u,class:"text-gray-600",onClick:d=>a.$emit("orderBy",o.order)},i(o.name),9,q))),128)),t("th",F,[e.url?(l(),f(r,{key:0,href:`${e.url}/create`,class:"btn btn-success ti-plus"},null,8,["href"])):y("",!0)])])]),w(a.$slots,"filter"),t("tbody",null,[(l(!0),n(m,null,b(e.datas.data,(o,u)=>(l(),n("tr",{key:o.id,class:"border-t hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",P,i(u+1),1),(l(!0),n(m,null,b(e.headers,(d,x)=>(l(),n("td",{key:x,class:"px-2 py-1"},[d.type=="img"?(l(),n("img",{key:0,src:o[d.key],class:B(d.class)},null,10,D)):(l(),n(m,{key:1},[!e.noadd&&e.url?(l(),f(r,{key:0,href:e.url+"/"+o.id+"?"+(c.callback??""),class:"items-center focus:text-primary-500"},{default:k(()=>[V(i(c.parseVal(o,d.key)),1)]),_:2},1032,["href"])):(l(),n("span",O,i(c.parseVal(o,d.key)),1))],64))]))),128)),t("td",R,[!e.nodelete&&e.url?(l(),f(_,{key:0,href:e.url+"/"+o.id,title:"устгах",class:"inline-block px-1 py-0"},{default:k(()=>s[1]||(s[1]=[t("i",{class:"ti-trash"},null,-1)])),_:2,__:[1]},1032,["href"])):y("",!0),!e.noedit&&e.url?(l(),f(r,{key:1,href:e.url+"/"+o.id+"/edit?"+(c.callback??""),class:"inline-block px-2 text-white bg-orange-500 rounded hover:bg-orange-700",title:"Засах"},{default:k(()=>s[2]||(s[2]=[t("i",{class:"ti-pencil-alt"},null,-1)])),_:2,__:[2]},1032,["href"])):y("",!0)])]))),128)),e.datas.data.length===0?(l(),n("tr",T,[t("td",{class:"px-6 py-4",colspan:e.headers.length+2},"Мэдээлэл байхгүй ",8,U)])):y("",!0)])])])}const oe=v(N,[["render",E]]),J={props:{modelValue:[Number,String],search:[Number,String],total:Number},emits:["update:modelValue","update:search"]},M={class:"flex flex-wrap justify-between gap-4 mb-2"},G={class:"relative text-gray-400 w-[300px]"},H=["value"],K=["value"],Q={value:"10"},W={value:"30"},X={value:"50"},Y={value:"100"},Z={value:"500"},$={value:"1000"};function ee(a,s,e,c,g,h){return l(),n("div",M,[t("div",G,[s[2]||(s[2]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),t("input",{id:"search",name:"search",type:"search",value:e.search,onInput:s[0]||(s[0]=r=>a.$emit("update:search",r.target.value)),class:"w-full py-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10",placeholder:"Шалтгаан хайх"},null,40,H)]),t("select",{value:e.modelValue,onChange:s[1]||(s[1]=r=>a.$emit("update:modelValue",r.target.value)),class:"text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10"},[t("option",Q,"10/"+i(e.total),1),t("option",W,"30/"+i(e.total),1),t("option",X,"50/"+i(e.total),1),t("option",Y,"100/"+i(e.total),1),t("option",Z,"500/"+i(e.total),1),t("option",$,"1000/"+i(e.total),1)],40,K)])}const ae=v(J,[["render",ee]]),ne=(a,s)=>{a.model.orderBy=s,a.model.dir=a.model.dir=="desc"?"asc":"desc"};export{oe as A,ae as P,ne as o};
