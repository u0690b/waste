import{u as U}from"./useDebouncedRef-CGUeJRBe.js";import{G as j,L as z,J as b,s as L,e as l,o as r,a as t,k as y,b as x,p as k,af as C,w as h,q as S,T as D,h as H,r as B,al as E,v as N,j as O,l as c,F as p,i as w,d as V,t as v,c as f}from"./app-wWMkuNaz.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"relative"},T={__name:"Dropdown",props:{align:{default:"right"},width:{default:"48"},contentClasses:{default:()=>["py-1","bg-white"]}},setup(a){const s=a,e=d=>{o.value&&d.key==="Escape"&&(o.value=!1)};j(()=>document.addEventListener("keydown",e)),z(()=>document.removeEventListener("keydown",e));const i=b(()=>({48:"w-48"})[s.width.toString()]),u=b(()=>s.align==="left"?"origin-top-left left-0":s.align==="right"?"origin-top-right right-0":"origin-top"),o=L(!1);return(d,n)=>(r(),l("div",R,[t("div",{onClick:n[0]||(n[0]=m=>o.value=!o.value)},[k(d.$slots,"trigger")]),y(t("div",{class:"fixed inset-0 z-40",onClick:n[1]||(n[1]=m=>o.value=!1)},null,512),[[C,o.value]]),x(D,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:h(()=>[y(t("div",{class:S(["absolute z-50 mt-2 rounded-md shadow-lg",[i.value,u.value]]),style:{display:"none"},onClick:n[2]||(n[2]=m=>o.value=!1)},[t("div",{class:S(["rounded-md ring-1 ring-black ring-opacity-5",a.contentClasses])},[k(d.$slots,"content")],2)],2),[[C,o.value]])]),_:3})]))}},F={components:{Dropdown:T},props:{search:String,maxWidth:{type:Number,default:300}},emits:["reset","update:modelValue"],setup(a,{emit:s}){const e=U(a.search,400);return H(e,u=>s("update:modelValue",u)),{searchRef:e,reset:()=>{e.value="",s("reset")}}}},I={class:"flex items-center"},q={class:"flex w-full bg-gray-100 divide-x rounded shadow"};function A(a,s,e,i,u,o){const d=B("Dropdown");return r(),l("div",I,[t("div",q,[x(d,{align:"left",overlay:"",class:"hover:bg-gray-100 w-28"},{filter:h(()=>s[2]||(s[2]=[t("div",{class:"flex items-baseline justify-center"},[t("span",{class:"hidden text-gray-700 md:inline"},"Filter"),t("svg",{class:"w-2 h-2 fill-gray-700 md:ml-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 961.243 599.998"},[t("path",{d:"M239.998 239.999L0 0h961.243L721.246 240c-131.999 132-240.28 240-240.624 239.999-.345-.001-108.625-108.001-240.624-240z"})])],-1)])),content:h(()=>[t("div",{class:"px-4 py-6 mt-2 bg-white rounded",style:E({maxWidth:`${e.maxWidth}px`})},[k(a.$slots,"default")],4)]),_:3}),y(t("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>i.searchRef=n),class:"relative w-full px-6 py-3 rounded-r focus:outline-none focus:ring",autocomplete:"off",type:"text",name:"search",placeholder:"Search…"},null,512),[[N,i.searchRef]])]),t("button",{class:"ml-3 text-sm text-gray-500 hover:text-gray-700 focus:text-indigo-500",type:"button",onClick:s[1]||(s[1]=(...n)=>i.reset&&i.reset(...n))},"Reset")])}const ve=_(F,[["render",A]]),W={props:{type:{type:String,default:"material-icons-outlined"}}};function G(a,s,e,i,u,o){return r(),l("i")}const J=_(W,[["render",G]]),$={components:{Icon:J},props:{headers:{type:Object,required:!0},datas:{type:Object,required:!0},url:String,insertUrl:[String],deleteUrl:[String],showUrl:[String]},emits:["orderBy"],setup(a){return{parseVal:(e,i)=>{let u="",o=i.split(".");return o.length==1?u=e[o[0]]:e[o[0]]&&e[o[0]][o[1]]?u=e[o[0]][o[1]]??"":u="",u}}},methods:{destroy(a){confirm("Та устгахдаа итгэлтэй байна уу?")&&O.delete(this.route(this.deleteUrl,a))}}},K={class:""},P={class:"w-full mt-2 text-gray-500"},Q={class:"uppercase border-b"},X={class:"font-bold text-left"},Y=["onClick"],Z={key:0,class:"pl-2"},ee={class:"flex"},te={key:0,class:"ml-2 col-sm-2"},se={class:"pl-2 border-t"},re={key:1,class:"items-center"},oe={class:"py-2 pl-2 border-t"},ne={key:0,class:"flex row"},le={class:"col-sm-2"},ae={key:0,class:"col-sm-2"},ie={key:1,class:"col-sm-2"},de={key:2,class:"col-sm-2"},ue={key:0};function ce(a,s,e,i,u,o){const d=B("ILink");return r(),l("div",K,[t("table",P,[t("thead",Q,[t("tr",X,[s[2]||(s[2]=t("th",{class:"pl-2 w-11"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})])],-1)),(r(!0),l(p,null,w(Object.values(e.headers),(n,m)=>(r(),l("th",{key:m,class:"text-gray-600",onClick:g=>a.$emit("orderBy",m)},v(n),9,Y))),128)),e.url?(r(),l("th",Z,[t("span",ee,[s[1]||(s[1]=V(" Үйлдэл ",-1)),e.insertUrl?(r(),l("div",te,[x(d,{href:e.insertUrl,class:"flex p-2 px-2 mr-4 text-white bg-green-500 rounded-md hover:bg-green-600"},{default:h(()=>s[0]||(s[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)])),_:1,__:[0]},8,["href"])])):c("",!0)])])):c("",!0)])]),t("tbody",null,[(r(!0),l(p,null,w(e.datas.data,(n,m)=>(r(),l("tr",{key:n.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",se,v(m+1),1),(r(!0),l(p,null,w(Object.keys(e.headers),(g,M)=>(r(),l("td",{key:M,class:"px-2 py-2 border-t"},[e.url?(r(),f(d,{key:0,href:a.route(e.url,n.id),class:"items-center focus:text-indigo-500"},{default:h(()=>[V(v(i.parseVal(n,g)),1)]),_:2},1032,["href"])):(r(),l("span",re,v(i.parseVal(n,g)),1))]))),128)),t("td",oe,[e.url?(r(),l("div",ne,[t("div",le,[e.url?(r(),f(d,{key:0,href:a.route(e.url,n.id),class:"flex p-2 px-2 mr-4 text-white bg-orange-500 rounded-md hover:bg-orange-600"},{default:h(()=>s[3]||(s[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[3]},1032,["href"])):c("",!0)]),e.deleteUrl?(r(),l("div",ae,[e.url?(r(),f(d,{key:0,onClick:()=>o.destroy(n.id),as:"buttom",class:"flex p-2 px-2 mr-4 text-white bg-red-500 rounded-md hover:bg-red-600"},{default:h(()=>s[4]||(s[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])),_:2,__:[4]},1032,["onClick"])):c("",!0)])):c("",!0),e.insertUrl?(r(),l("div",ie,[e.url?(r(),f(d,{key:0,href:e.insertUrl,class:"flex p-2 px-2 mr-4 text-white bg-green-500 rounded-md hover:bg-green-600"},{default:h(()=>s[5]||(s[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)])),_:1,__:[5]},8,["href"])):c("",!0)])):c("",!0),e.showUrl?(r(),l("div",de,[e.url?(r(),f(d,{key:0,href:a.route(e.showUrl,n.id),class:"flex p-2 px-2 mr-4 text-white bg-orange-500 rounded-md hover:bg-orange-600"},{default:h(()=>s[6]||(s[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})],-1)])),_:2,__:[6]},1032,["href"])):c("",!0)])):c("",!0)])):c("",!0)])]))),128)),e.datas.length===0?(r(),l("tr",ue,s[7]||(s[7]=[t("td",{class:"px-6 py-4 border-t",colspan:"4"},"Мэдээлэл байхгүй",-1)]))):c("",!0)])])])}const ge=_($,[["render",ce]]);export{ge as A,J as I,ve as S};
