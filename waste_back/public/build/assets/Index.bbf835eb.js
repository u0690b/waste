import{d as O,g as R,S as P,e as E,_ as U}from"./Admin.e0746f2f.js";import{P as q,S as G,A as J,m as K}from"./AdminTable.985921b6.js";import{p as Q}from"./pickBy.1c63e4aa.js";import{d as W}from"./debounce.8d18204c.js";import{M as X}from"./MySelect.3ac25da5.js";import{A as Y}from"./AdminCard.64987e13.js";import{_ as Z}from"./SharedState.4381a2a5.js";import{T as L,r as c,o as a,c as d,a as e,b as r,w as o,n as u,L as $,M as ee,F as A,k as te,e as h,t as n,h as x,f as D}from"./app.02386b88.js";import{_ as se}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Modal.258669d2.js";import"./ShowMapPoint.eabae0ea.js";import"./index.f7f41b1b.js";const oe={name:"pink-tabs",metaInfo:{title:"Registers"},components:{Pagination:q,SearchFilter:G,AdminTable:J,MySelect:X,AdminCard:Y,SharedState:Z,MenuItems:O,Transition:L,Menu:R,MenuButton:P,MenuItem:E},layout:U,props:{datas:Object,filters:[Object,Array],host:String,auth:[Object,Array]},data(){return{form:{aimag_city_id:null,soum_district_id:null,bag_horoo_id:null,reason_id:null,reg_user_id:null,comf_user_id:null,status_id:null,...this.filters?this.filters:{}},headers:{name:"\u0411\u0430\u0439\u0433\u0443\u0443\u043B\u043B\u0430\u0433\u0430, \u0430\u0436 \u0430\u0445\u0443\u0439\u043D \u043D\u044D\u0433\u0436\u0438\u0439\u043D \u043D\u044D\u0440, \u0438\u0440\u0433\u044D\u043D\u0438\u0439 \u043E\u0432\u043E\u0433 \u043D\u044D\u0440",register:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0439\u043D \u0434\u0443\u0433\u0430\u0430\u0440",chiglel:"\u04AE\u0439\u043B \u0430\u0436\u0438\u043B\u043B\u0430\u0433\u0430\u0430\u043D\u044B \u0447\u0438\u0433\u043B\u044D\u043B","aimag_city.name":"\u0410\u0439\u043C\u0430\u0433,\u041D\u0438\u0439\u0441\u043B\u044D\u043B",aimag_city_id:"\u0410\u0439\u043C\u0430\u0433,\u041D\u0438\u0439\u0441\u043B\u044D\u043B","soum_district.name":"\u0421\u0443\u043C,\u0414\u04AF\u04AF\u0440\u044D\u0433",soum_district_id:"\u0421\u0443\u043C,\u0414\u04AF\u04AF\u0440\u044D\u0433","bag_horoo.name":"\u0411\u0430\u0433,\u0425\u043E\u0440\u043E\u043E",bag_horoo_id:"\u0411\u0430\u0433,\u0425\u043E\u0440\u043E\u043E",address:"\u0425\u0430\u044F\u0433, \u0431\u0430\u0439\u0440\u0448\u0438\u043B\u0434",description:"\u0413\u0430\u0440\u0433\u0430\u0441\u0430\u043D \u0437\u04E9\u0440\u0447\u043B\u0438\u0439\u043D \u0431\u0430\u0439\u0434\u0430\u043B","reason.name":"\u0417\u04E9\u0440\u0447\u043B\u0438\u0439\u043D \u0442\u04E9\u0440\u04E9\u043B",reason_id:"\u0417\u04E9\u0440\u0447\u043B\u0438\u0439\u043D \u0442\u04E9\u0440\u04E9\u043B",zuil_zaalt:"\u0417\u04E9\u0440\u0447\u0441\u04E9\u043D \u0445\u0443\u0443\u043B\u044C \u0442\u043E\u0433\u0442\u043E\u043E\u043C\u0436\u0438\u0439\u043D \u0437\u04AF\u0439\u043B, \u0437\u0430\u0430\u043B\u0442",resolve_desc:"\u0417\u04E9\u0440\u0447\u043B\u0438\u0439\u0433 \u0448\u0438\u0439\u0434\u0432\u044D\u0440\u043B\u044D\u0441\u044D\u043D \u0431\u0430\u0439\u0434\u0430\u043B",long:"\u0423\u0440\u0442\u0440\u0430\u0433",lat:"\u04E8\u0440\u0433\u04E9\u0440\u04E9\u0433","reg_user.name":"\u0411\u04AF\u0440\u0442\u0433\u044D\u0441\u044D\u043D \u0445\u04AF\u043D",reg_user_id:"\u0411\u04AF\u0440\u0442\u0433\u044D\u0441\u044D\u043D \u0445\u04AF\u043D","comf_user.name":"\u0428\u0438\u0439\u0434\u0432\u044D\u0440\u043B\u044D\u0441\u044D\u043D \u0445\u04AF\u043D",comf_user_id:"\u0428\u0438\u0439\u0434\u0432\u044D\u0440\u043B\u044D\u0441\u044D\u043D \u0445\u04AF\u043D","status.name":"\u0422\u04E9\u043B\u04E9\u0432",status_id:"\u0422\u04E9\u043B\u04E9\u0432"}}},watch:{form:{handler:W(function(){this.$inertia.get(this.route("admin.registers.index"),Q(this.form),{preserveState:!0})},150),deep:!0}},computed:{openTab(){var l;return(l=parseInt(this.form.status_id))!=null?l:2}},methods:{reset(){this.form=K(this.form,()=>null)},calcDateRange(l,s){let i=(isNaN(Date.parse(s))?Date.now():Date.parse(s))-Date.parse(l);return isNaN(i)?"~":Math.ceil(i/(1e3*3600*24))}}},re={class:"flex justify-between px-4 mt-4 sm:px-8"},ne=e("h2",{class:"text-xl text-gray-600"},"\u0417\u04E9\u0440\u0447\u043B\u0438\u0439\u043D \u0431\u04AF\u0440\u0442\u0433\u044D\u043B",-1),le={class:"flex items-center space-x-1 text-xs"},ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-2 w-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),ie=e("span",{class:"text-gray-600 text-sm"},"\u0417\u04E9\u0440\u0447\u043B\u0438\u0439\u043D \u0431\u04AF\u0440\u0442\u0433\u044D\u043B",-1),ce={class:"p-4 mt-8 sm:px-8 sm:py-4"},de={class:"flex flex-wrap"},ue={class:"w-full"},me={class:"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row"},_e={class:"-mb-px mr-2 last:mr-0 flex-auto text-center"},he={class:"-mb-px mr-2 last:mr-0 flex-auto text-center"},xe={class:"-mb-px mr-2 last:mr-0 flex-auto text-center"},fe={class:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded"},pe={class:"px-4 py-5 flex-auto"},ge={class:"tab-content tab-space"},we={class:"p-4 bg-white rounded"},be={class:"flex justify-between"},ye={class:"relative text-gray-400"},ve=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),ke={class:"w-full mt-2 text-gray-500"},Me=e("thead",{class:"border-b"},[e("tr",null,[e("th",{class:"p-2 text-left text-gray-600"},[e("input",{type:"checkbox",class:"h-5 w-5 text-blue-500 border-gray-300 rounded cursor-pointer focus:ring-0"})]),e("th",{class:"text-left text-gray-600"},"\u0417\u04E8\u0420\u0427\u041B\u0418\u0419\u041D \u041C\u042D\u0414\u042D\u042D\u041B\u042D\u041B"),e("th",{class:"text-left text-gray-600"},"\u0417\u04E8\u0420\u0427\u041B\u0418\u0419\u041D \u0422\u04E8\u0420\u04E8\u041B"),e("th",{class:"text-left text-gray-600"},"\u0425\u042D\u0420\u042D\u0413\u041B\u042D\u0413\u0427"),e("th",{class:"text-left text-gray-600"},"\u0422\u04E8\u041B\u04E8\u0412"),e("th",{class:"text-left text-gray-600"},"\u0417\u0410\u0420\u0426\u0423\u0423\u041B\u0421\u0410\u041D \u0425\u0423\u0413\u0410\u0426\u0410\u0410"),e("th",{class:"text-left text-gray-600"},"\u0411\u04AE\u0420\u0422\u0413\u042D\u0421\u042D\u041D \u041E\u0413\u041D\u041E\u041E"),e("th",{class:"text-right text-gray-600"},"\u04AE\u0419\u041B\u0414\u041B\u04AE\u04AE\u0414")])],-1),je={class:"divide-y divide-gray-200"},Be=e("td",{class:"p-2"},[e("input",{type:"checkbox",class:"h-5 w-5 text-blue-500 border-gray-300 rounded cursor-pointer focus:ring-0"})],-1),Ce={class:"flex items-center py-4"},Ie={class:"px-4"},Se={href:"#",class:"text-gray-600 font-bolder"},Te={class:"font-bold text-sm"},Ae={key:0,class:"px-2 py-1 rounded text-xs text-white bg-orange-500"},De={key:1,class:"px-2 py-1 rounded text-xs text-white bg-blue-500"},Le={key:2,class:"px-2 py-1 rounded text-xs text-white bg-green-500"},Ne={class:"text-right"},Ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 ml-2 -mr-1 text-violet-200 hover:text-violet-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1),ze={class:"px-1 py-1"},Fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),He=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Oe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),Re={class:"py-2 flex items-center justify-between border-t border-gray-200"},Pe=e("div",{class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},null,-1),Ee={class:"hidden sm:flex-2 sm:flex sm:items-center sm:justify-between"};function Ue(l,s,i,qe,m,f){const N=c("inertia-link"),V=c("MenuButton"),p=c("InertiaLink"),g=c("MenuItem"),z=c("MenuItems"),F=c("Menu"),H=c("pagination");return a(),d(A,null,[e("div",re,[ne,e("div",le,[r(N,{href:"/",class:"font-bold text-indigo-700 text-sm"},{default:o(()=>[h("\u041D\u04AF\u04AF\u0440 \u0445\u0443\u0443\u0434\u0430\u0441")]),_:1}),ae,ie])]),e("div",ce,[e("div",de,[e("div",ue,[e("ul",me,[e("li",_e,[e("a",{class:u(["text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal text-orange-600 bg-white",{"!text-white bg-orange-600":f.openTab===2}]),onClick:s[0]||(s[0]=t=>m.form.status_id=2)}," \u0418\u043B\u0433\u044D\u044D\u0441\u044D\u043D ",2)]),e("li",he,[e("a",{class:u(["text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal text-blue-600 bg-white",{"!text-white bg-blue-600":f.openTab===3}]),onClick:s[1]||(s[1]=t=>m.form.status_id=3)}," \u0425\u0443\u0432\u0430\u0430\u0440\u0438\u043B\u0441\u0430\u043D ",2)]),e("li",xe,[e("a",{class:u(["text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal text-green-600 bg-white",{"!text-white bg-green-600":f.openTab===4}]),onClick:s[2]||(s[2]=t=>m.form.status_id=4)}," \u0428\u0438\u0439\u0434\u0432\u044D\u0440\u043B\u044D\u0441\u044D\u043D ",2)])]),e("div",fe,[e("div",pe,[e("div",ge,[e("div",null,[e("div",we,[e("div",be,[e("div",null,[e("div",ye,[ve,$(e("input",{id:"search",name:"search",type:"search","onUpdate:modelValue":s[3]||(s[3]=t=>m.form.search=t),class:"w-full py-2 text-sm text-gray-900 rounded-md pl-10 border border-gray-300 focus:outline-none focus:ring-gray-500 focus:z-10",placeholder:"\u0411\u04AF\u0440\u0442\u0433\u044D\u043B \u0445\u0430\u0439\u0445"},null,512),[[ee,m.form.search]])])])]),e("table",ke,[Me,e("tbody",je,[(a(!0),d(A,null,te(i.datas.data,t=>{var w,b,y,v,k,M,j,B,C,I,S,T;return a(),d("tr",null,[Be,e("td",Ce,[e("div",Ie,[e("div",null,[e("a",Se,n(t.name),1)]),e("div",Te,n(t.register),1)])]),e("td",null,n((b=(w=t.reason)==null?void 0:w.name)!=null?b:""),1),e("td",null,n(t.status_id==2?(v=(y=t.reg_user)==null?void 0:y.name)!=null?v:"":(M=(k=t.comf_user)==null?void 0:k.name)!=null?M:""),1),e("td",null,[t.status_id==2?(a(),d("span",Ae,n((B=(j=t.status)==null?void 0:j.name)!=null?B:"\u0445\u043E\u043E\u0441\u043E\u043D"),1)):x("",!0),t.status_id==3?(a(),d("span",De,n((I=(C=t.status)==null?void 0:C.name)!=null?I:"\u0445\u043E\u043E\u0441\u043E\u043D"),1)):x("",!0),t.status_id==4?(a(),d("span",Le,n((T=(S=t.status)==null?void 0:S.name)!=null?T:"\u0445\u043E\u043E\u0441\u043E\u043D"),1)):x("",!0)]),e("td",null,n(f.calcDateRange(t.reg_at,t.resolved_at))+" \u0445\u043E\u043D\u043E\u0433",1),e("td",null,n(t.created_at),1),e("td",Ne,[r(F,{as:"div",class:"relative inline-block text-left"},{default:o(()=>[e("div",null,[r(V,{class:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white rounded-md bg-gray-500 hover:bg-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:o(()=>[h(" \u04AE\u0439\u043B\u0434\u044D\u043B "),Ve]),_:1})]),r(L,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:o(()=>[r(z,{class:"absolute right-0 w-32 mt-1 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50 focus:outline-none"},{default:o(()=>[e("div",ze,[r(g,null,{default:o(({active:_})=>[r(p,{href:l.route("admin.registers.show",t.id),class:u([_?"bg-gray-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:o(()=>[Fe,h(" \u0414\u044D\u043B\u0433\u044D\u0440\u044D\u043D\u0433\u04AF\u0439 ")]),_:2},1032,["href","class"])]),_:2},1024),t.status_id!=4&&i.auth.user.roles=="mha"?(a(),D(g,{key:0},{default:o(({active:_})=>[r(p,{href:l.route("admin.register.allocation",t.id),class:u([_?"bg-blue-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:o(()=>[He,h(" \u0425\u0443\u0432\u0430\u0430\u0440\u0438\u043B\u0430\u0445 ")]),_:2},1032,["href","class"])]),_:2},1024)):x("",!0),t.status_id==3||["mha"].includes(i.auth.user.roles)?(a(),D(g,{key:1},{default:o(({active:_})=>[r(p,{href:l.route("admin.registers.show_resolve",t.id),class:u([_?"bg-green-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:o(()=>[Oe,h(" \u0428\u0438\u0439\u0434\u0432\u044D\u0440\u043B\u044D\u0445 ")]),_:2},1032,["href","class"])]),_:2},1024)):x("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),256))])]),e("div",Re,[Pe,e("div",Ee,[r(H,{links:i.datas.links},null,8,["links"])])])])])])])])])])])],64)}const ot=se(oe,[["render",Ue]]);export{ot as default};
