import{u as B,h as M,J as S,r as T,c as b,o,w as r,a as t,b as a,d as g,f as l,q as c,k as V,v as z,e as d,l as u,F as I,i as $,t as n,T as F}from"./app-LAegBHIl.js";import{g as L,S as O,d as P,e as h,_ as q}from"./Admin-1YnMRkcw.js";import{d as A,P as E}from"./useDebouncedRef-B5dqD2Hk.js";import"./MySelect-Bndr_yhL.js";/* empty css                                                                         */import"./icon-512-vKo9cVLo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CxEqPr-R.js";import"./debounce-BG-jZ4kW.js";const J={class:"flex justify-between px-4 mt-4 sm:px-8"},R={class:"flex items-center space-x-1 text-xs"},U={class:"p-4 mt-8 sm:px-8 sm:py-4"},G={class:"flex flex-wrap"},H={class:"w-full"},K={class:"flex flex-row flex-wrap pt-3 pb-4 mb-0 list-none"},Q={class:"flex-auto mr-2 -mb-px text-center last:mr-0"},W={class:"-mb-px mr-2 last:mr-0 flex-auto text-center"},X={class:"flex-auto mr-2 -mb-px text-center last:mr-0"},Y={class:"relative flex flex-col w-full min-w-0 mb-6 break-words bg-white rounded shadow-lg"},Z={class:"flex-auto px-4 py-5"},tt={class:"tab-content tab-space"},et={class:"p-4 bg-white rounded"},st={class:"flex justify-between"},lt={class:"relative text-gray-400"},ot={class:"w-full mt-2 text-gray-500"},rt={class:"border-b"},nt={key:0,class:"text-left text-gray-600"},it={key:1,class:"text-left text-gray-600"},at={class:"divide-y divide-gray-200"},dt={class:"flex items-center py-4"},ut={class:"px-4"},xt={href:"#",class:"text-gray-600 font-bolder"},mt={class:"text-sm font-bold"},ct={key:0},ft={key:1},pt={key:0,class:"px-2 py-1 text-xs text-white bg-orange-500 rounded"},gt={key:1,class:"px-2 py-1 text-xs text-white bg-green-500 rounded"},yt={key:2,class:"px-2 py-1 text-xs text-white bg-blue-500 rounded"},bt={class:"text-right"},ht={class:"px-1 py-1"},wt={class:"flex items-center justify-between py-2 border-t border-gray-200"},_t={class:"hidden sm:flex-2 sm:flex sm:items-center sm:justify-between"},Tt={__name:"Index",props:{datas:Object,host:String,auth:[Object,Array],filters:{type:Object,default:()=>({search:""})}},setup(f){const w=f,i=B({model:{...w.filters,per_page:w.datas.per_page}}).transform(x=>x.model);M(()=>i.model,A(()=>i.get("",{preserveState:!0}),150),{deep:!0});const y=S(()=>parseInt(i.model_id)??2),N=(x,e)=>{let m=isNaN(Date.parse(e))?Date.parse(new Date().toString())-Date.parse(x):Date.parse(e)-Date.parse(x);return(isNaN(m)?"~":Math.ceil(m/(1e3*3600*24)))+" хоног"};return(x,e)=>{const m=T("ILink");return o(),b(q,null,{default:r(()=>[t("div",J,[e[7]||(e[7]=t("h2",{class:"text-xl text-gray-600"},"Зөрчлийн бүртгэл",-1)),t("div",R,[a(m,{href:"/",class:"text-sm font-bold text-indigo-700"},{default:r(()=>e[4]||(e[4]=[g("Нүүр хуудас",-1)])),_:1,__:[4]}),e[5]||(e[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-2 h-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),e[6]||(e[6]=t("span",{class:"text-sm text-gray-600"},"Зөрчлийн бүртгэл",-1))])]),t("div",U,[t("div",G,[t("div",H,[t("ul",K,[t("li",Q,[t("a",{class:c(["block px-5 py-3 text-xs font-bold leading-normal text-orange-600 uppercase bg-white rounded shadow-lg",{"!text-white !bg-orange-600":y.value===2}]),onClick:e[0]||(e[0]=s=>l(i).model.status_id=2)}," Илгээсэн ",2)]),t("li",W,[t("a",{class:c(["text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal text-blue-600 bg-white",{"!text-white !bg-blue-600":y.value===3}]),onClick:e[1]||(e[1]=s=>l(i).model.status_id=3)}," Шилжүүлсэн ",2)]),t("li",X,[t("a",{class:c(["block px-5 py-3 text-xs font-bold leading-normal text-green-600 uppercase bg-white rounded shadow-lg",{"!text-white !bg-green-600":y.value===4}]),onClick:e[2]||(e[2]=s=>l(i).model.status_id=4)}," Шийдвэрлэсэн ",2)])]),t("div",Y,[t("div",Z,[t("div",tt,[t("div",null,[t("div",et,[t("div",st,[t("div",null,[t("div",lt,[e[8]||(e[8]=t("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),V(t("input",{id:"search",name:"search",type:"search","onUpdate:modelValue":e[3]||(e[3]=s=>l(i).search=s),class:"w-full py-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10",placeholder:"Бүртгэл хайх"},null,512),[[z,l(i).search]])])])]),t("table",ot,[t("thead",rt,[t("tr",null,[e[9]||(e[9]=t("th",{class:"p-2 text-left text-gray-600"},[t("input",{type:"checkbox",class:"w-5 h-5 text-blue-500 border-gray-300 rounded cursor-pointer focus:ring-0"})],-1)),e[10]||(e[10]=t("th",{class:"text-left text-gray-600"},"ЗӨРЧЛИЙН МЭДЭЭЛЭЛ",-1)),e[11]||(e[11]=t("th",{class:"text-left text-gray-600"},"ЗӨРЧЛИЙН ТӨРӨЛ",-1)),e[12]||(e[12]=t("th",{class:"text-left text-gray-600"},"ХЭРЭГЛЭГЧ",-1)),l(i).model.status_id!==2?(o(),d("th",nt," ШИЛЖҮҮЛСЭН ХЭРЭГЛЭГЧ")):u("",!0),l(i).model.status_id===4?(o(),d("th",it," ШИЙДВЭРЛЭСЭН")):u("",!0),e[13]||(e[13]=t("th",{class:"text-left text-gray-600"},"ТӨЛӨВ",-1)),e[14]||(e[14]=t("th",{class:"text-left text-gray-600"},"ЗАРЦУУЛСАН ХУГАЦАА",-1)),e[15]||(e[15]=t("th",{class:"text-left text-gray-600"},"БҮРТГЭСЭН ОГНОО",-1)),e[16]||(e[16]=t("th",{class:"text-right text-gray-600"},"ҮЙЛДЛҮҮД",-1))])]),t("tbody",at,[(o(!0),d(I,null,$(f.datas.data,s=>{var _,v,k,j,C,D;return o(),d("tr",null,[e[21]||(e[21]=t("td",{class:"p-2"},[t("input",{type:"checkbox",class:"w-5 h-5 text-blue-500 border-gray-300 rounded cursor-pointer focus:ring-0"})],-1)),t("td",dt,[t("div",ut,[t("div",null,[t("a",xt,n(s.name),1)]),t("div",mt,n(s.register),1)])]),t("td",null,n(((_=s.reason)==null?void 0:_.name)??""),1),t("td",null,n(((v=s.reg_user)==null?void 0:v.name)??""),1),s.status_id!==2?(o(),d("td",ct,n(((k=s.comf_user)==null?void 0:k.name)??""),1)):u("",!0),s.status_id===4?(o(),d("td",ft,n(s.comf_user_name??""),1)):u("",!0),t("td",null,[s.status_id==2?(o(),d("span",pt,n(((j=s.status)==null?void 0:j.name)??"хоосон"),1)):u("",!0),s.status_id==3?(o(),d("span",gt,n(((C=s.status)==null?void 0:C.name)??"хоосон"),1)):u("",!0),s.status_id==4?(o(),d("span",yt,n(((D=s.status)==null?void 0:D.name)??"хоосон"),1)):u("",!0)]),t("td",null,n(N(s.created_at,s.resolved_at)),1),t("td",null,n(s.created_at),1),t("td",bt,[a(l(L),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[t("div",null,[a(l(O),{class:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-md hover:bg-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"},{default:r(()=>e[17]||(e[17]=[g(" Үйлдэл ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 ml-2 -mr-1 text-violet-200 hover:text-violet-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])),_:1,__:[17]})]),a(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[a(l(P),{class:"absolute right-0 z-50 w-32 mt-1 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:r(()=>[t("div",ht,[a(l(h),null,{default:r(({active:p})=>[a(m,{href:x.route("admin.registers.show",s.id),class:c([p?"bg-gray-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:r(()=>e[18]||(e[18]=[t("i",{class:"ti ti-book text-gray-500 font-bold mr-2"},null,-1),g(" Дэлгэрэнгүй ",-1)])),_:2,__:[18]},1032,["href","class"])]),_:2},1024),s.status_id!=4&&(f.auth.user.roles=="da"||f.auth.user.roles=="admin")?(o(),b(l(h),{key:0},{default:r(({active:p})=>[a(m,{href:x.route("admin.register.allocation",s.id),class:c([p?"bg-blue-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:r(()=>e[19]||(e[19]=[t("i",{class:"ti ti-direction-alt text-gray-500 font-bold mr-2"},null,-1),g(" Шилжүүлэх ",-1)])),_:2,__:[19]},1032,["href","class"])]),_:2},1024)):u("",!0),s.status_id!=4?(o(),b(l(h),{key:1},{default:r(({active:p})=>[a(m,{href:x.route("admin.registers.show_resolve",s.id),class:c([p?"bg-green-400 text-white":"text-gray-900","group flex rounded-md items-center w-full px-1 py-2 text-sm"])},{default:r(()=>e[20]||(e[20]=[t("i",{class:"ti ti-stamp text-gray-500 font-bold mr-2"},null,-1),g(" Шийдвэрлэх ",-1)])),_:2,__:[20]},1032,["href","class"])]),_:2},1024)):u("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),256))])]),t("div",wt,[e[22]||(e[22]=t("div",{class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},null,-1)),t("div",_t,[a(E,{links:f.datas.links},null,8,["links"])])])])])])])])])])])]),_:1})}}};export{Tt as default};
