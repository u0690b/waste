import{_ as g}from"./GuestLayout-C_i-Eyds.js";import{m as w}from"./mapValues-CfFZbTkn.js";import{P as y}from"./useDebouncedRef-B5dqD2Hk.js";import{p as x}from"./pickBy-BNSXRKZ5.js";import{S as v}from"./SearchFilter-CdxQigwx.js";import{d as b}from"./debounce-BG-jZ4kW.js";import{I as k,A as S}from"./AdminTable-TnTjVwzC.js";import{M as R}from"./MySelect-Bndr_yhL.js";import{_ as C}from"./Modal-DCWUTkhN.js";import{_ as M,R as B}from"./ShowMapPoint-DfCrm0aV.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as j,r as i,e as _,o as l,b as d,F as f,i as A,w as $,a as s,c as V,aw as z,k as O,v as F}from"./app-LAegBHIl.js";import{_ as H}from"./SharedState-CdZPLPYr.js";import"./icon-512-vKo9cVLo.js";import"./index-D5QqEfv0.js";const I={components:{Icon:k,RegisterCard:B,Modal:C,ShowMapPoint:M},props:{headers:{type:Object,required:!0},datas:{type:Object,required:!0},url:String,showRoute:[String]},emits:["orderBy"],setup(u){const r=(e,c)=>{let a="",t=c.split(".");return t.length==1?a=e[t[0]]:e[t[0]]&&e[t[0]][t[1]]?a=e[t[0]][t[1]]??"":a="",a},o=j(null);return{parseVal:r,selected:o,select:e=>o.value=e}}},P={class:"grid md:grid-cols-2 xl:grid-cols-3 gap-8 max-w-6xl mx-auto"},q=["src"];function N(u,r,o,n,e,c){const a=i("RegisterCard"),t=i("Modal");return l(),_("div",P,[(l(!0),_(f,null,A(o.datas.data,m=>(l(),V(a,{item:m,onSelect:n.select,showRoute:o.showRoute},null,8,["item","onSelect","showRoute"]))),256)),d(t,{show:!!n.selected,onClose:r[0]||(r[0]=()=>n.selected=null)},{default:$(()=>[s("img",{src:n.selected,alt:""},null,8,q)]),_:1},8,["show"])])}const T=p(I,[["render",N]]),D={metaInfo:{title:"Registers"},components:{Pagination:y,SearchFilter:v,AdminTable:S,MySelect:R,AdminCard:T,SharedState:H,Head:z},layout:g,props:{datas:Object,filters:[Object,Array],host:String},data(){return{form:{aimag_city_id:null,soum_district_id:null,bag_horoo_id:null,reason_id:null,reg_user_id:null,comf_user_id:null,status_id:null,...this.filters?this.filters:{}},headers:{name:"Байгууллага, аж ахуйн нэгжийн нэр, иргэний овог нэр",register:"Регистрийн дугаар",chiglel:"Үйл ажиллагааны чиглэл","aimag_city.name":"Аймаг,Нийслэл",aimag_city_id:"Аймаг,Нийслэл","soum_district.name":"Сум,Дүүрэг",soum_district_id:"Сум,Дүүрэг","bag_horoo.name":"Баг,Хороо",bag_horoo_id:"Баг,Хороо",address:"Хаяг, байршилд",description:"Гаргасан зөрчлийн байдал","reason.name":"Зөрчлийн төрөл",reason_id:"Зөрчлийн төрөл",zuil_zaalt:"Зөрчсөн хууль тогтоомжийн зүйл, заалт",resolve_desc:"Зөрчлийг шийдвэрлэсэн байдал",long:"Уртраг",lat:"Өргөрөг","reg_user.name":"Бүртгэсэн хүн",reg_user_id:"Бүртгэсэн хүн","comf_user.name":"Шийдвэрлэсэн хүн",comf_user_id:"Шийдвэрлэсэн хүн","status.name":"Төлөв",status_id:"Төлөв"}}},watch:{form:{handler:b(function(){this.$inertia.get("/reg",x(this.form),{preserveState:!0})},150),deep:!0}},methods:{reset(){this.form=w(this.form,()=>null)}}},E={class:"p-4 mt-8 sm:px-8 sm:py-4"},L={class:"p-4 rounded"},U={class:"mb-6 flex justify-center items-center"},G={class:"relative text-gray-400"};function J(u,r,o,n,e,c){const a=i("Head"),t=i("AdminCard"),m=i("pagination");return l(),_(f,null,[d(a,{title:"Зөрчлийн бүртгэл"}),s("div",E,[s("div",L,[s("div",U,[s("div",G,[r[1]||(r[1]=s("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),O(s("input",{id:"search",name:"search",type:"search","onUpdate:modelValue":r[0]||(r[0]=h=>e.form.search=h),class:"w-full py-2 text-sm text-gray-900 rounded-md pl-10 border border-gray-300 focus:outline-none focus:ring-gray-500 focus:z-10",placeholder:"Бүртгэл хайх"},null,512),[[F,e.form.search]])])]),s("div",null,[d(t,{headers:e.headers,datas:o.datas,showRoute:"reg.show"},null,8,["headers","datas"])])]),d(m,{links:o.datas.links},null,8,["links"])])],64)}const de=p(D,[["render",J]]);export{de as default};
