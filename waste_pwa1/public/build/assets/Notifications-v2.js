import{_ as T}from"./Card-v2.js";import{c as G,u as H,a as Y}from"./App-v22.js";import{u as N}from"./useForwardExpose-v2.js";import{P as z,d as J,t as D,a as R,z as K}from"./Button-v2.js";import{d as k,k as m,o as i,w as p,r as h,g as V,m as B,u as r,H as Q,a as C,O as W,P as X,t as q,i as Z,Y as ee,j as te,b as _,n as w,l as x,c as b,F as S,f as M,a4 as ae,e as c,a2 as se,p as le,G as oe,h as ne}from"./app-v2.js";import{_ as re}from"./AppLayout.vue_vue_type_script_setup_true_lang-v2.js";import"./index-v2.js";var ie=k({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return N(),(t,u)=>(i(),m(r(z),B(n,{"data-type":"ellipsis"}),{default:p(()=>[h(t.$slots,"default",{},()=>[u[0]||(u[0]=V("…"))])]),_:3},16))}}),ue=ie;const[E,de]=G("PaginationRoot");var ce=k({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(e,{emit:n}){const t=e,u=n,{siblingCount:l,disabled:a,showEdges:o}=Q(t);N();const s=J(t,"page",u,{defaultValue:t.defaultPage,passive:t.page===void 0}),f=C(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return de({page:s,onPageChange(d){s.value=d},pageCount:f,siblingCount:l,disabled:a,showEdges:o}),(d,P)=>(i(),m(r(z),{as:d.as,"as-child":d.asChild},{default:p(()=>[h(d.$slots,"default",{page:r(s),pageCount:f.value})]),_:3},8,["as","as-child"]))}}),pe=ce,fe=k({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=E();N();const u=C(()=>t.page.value===1||t.disabled.value);return(l,a)=>(i(),m(r(z),B(n,{"aria-label":"First Page",type:l.as==="button"?"button":void 0,disabled:u.value,onClick:a[0]||(a[0]=o=>!u.value&&r(t).onPageChange(1))}),{default:p(()=>[h(l.$slots,"default",{},()=>[a[1]||(a[1]=V("First page"))])]),_:3},16,["type","disabled"]))}}),ve=fe,ge=k({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=E();N();const u=C(()=>t.page.value===t.pageCount.value||t.disabled.value);return(l,a)=>(i(),m(r(z),B(n,{"aria-label":"Last Page",type:l.as==="button"?"button":void 0,disabled:u.value,onClick:a[0]||(a[0]=o=>!u.value&&r(t).onPageChange(r(t).pageCount.value))}),{default:p(()=>[h(l.$slots,"default",{},()=>[a[1]||(a[1]=V("Last page"))])]),_:3},16,["type","disabled"]))}}),me=ge;function I(e,n){const t=n-e+1;return Array.from({length:t},(u,l)=>l+e)}function ye(e){return e.map(n=>typeof n=="number"?{type:"page",value:n}:{type:"ellipsis"})}const F="ellipsis";function be(e,n,t,u){const a=n,o=Math.max(e-t,1),s=Math.min(e+t,a);if(u){const d=Math.min(2*t+5,n)-2,P=o>3&&Math.abs(a-d-1+1)>2&&Math.abs(o-1)>2,v=s<a-2&&Math.abs(a-d)>2&&Math.abs(a-s)>2;if(!P&&v)return[...I(1,d),F,a];if(P&&!v){const g=I(a-d+1,a);return[1,F,...g]}if(P&&v){const g=I(o,s);return[1,F,...g,F,a]}return I(1,a)}else{const f=t*2+1;return n<f?I(1,a):e<=t+1?I(1,f):n-e<=t?I(n-f+1,a):I(o,s)}}var he=k({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;N();const t=E(),u=C(()=>ye(be(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(l,a)=>(i(),m(r(z),W(X(n)),{default:p(()=>[h(l.$slots,"default",{items:u.value})]),_:3},16))}}),Pe=he,_e=k({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;N();const t=E(),u=C(()=>t.page.value===n.value),l=C(()=>t.disabled.value);return(a,o)=>(i(),m(r(z),B(n,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":u.value?"page":void 0,"data-selected":u.value?"true":void 0,disabled:l.value,type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=s=>!l.value&&r(t).onPageChange(a.value))}),{default:p(()=>[h(a.$slots,"default",{},()=>[V(q(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ce=_e,ke=k({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;N();const t=E(),u=C(()=>t.page.value===t.pageCount.value||t.disabled.value);return(l,a)=>(i(),m(r(z),B(n,{"aria-label":"Next Page",type:l.as==="button"?"button":void 0,disabled:u.value,onClick:a[0]||(a[0]=o=>!u.value&&r(t).onPageChange(r(t).page.value+1))}),{default:p(()=>[h(l.$slots,"default",{},()=>[a[1]||(a[1]=V("Next page"))])]),_:3},16,["type","disabled"]))}}),qe=ke,$e=k({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;N();const t=E(),u=C(()=>t.page.value===1||t.disabled.value);return(l,a)=>(i(),m(r(z),B(n,{"aria-label":"Previous Page",type:l.as==="button"?"button":void 0,disabled:u.value,onClick:a[0]||(a[0]=o=>!u.value&&r(t).onPageChange(r(t).page.value-1))}),{default:p(()=>[h(l.$slots,"default",{},()=>[a[1]||(a[1]=V("Prev page"))])]),_:3},16,["type","disabled"]))}}),Ie=$e;const we={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},xe={__name:"Pagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:n}){const t=e,u=n,l=Z(),{dir:a}=H(),o=te(),s=Y(ee(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),u),f=C(()=>t.firstIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleRight:o.ui.icons.chevronDoubleLeft)),d=C(()=>t.prevIcon||(a.value==="rtl"?o.ui.icons.chevronRight:o.ui.icons.chevronLeft)),P=C(()=>t.nextIcon||(a.value==="rtl"?o.ui.icons.chevronLeft:o.ui.icons.chevronRight)),v=C(()=>t.lastIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleLeft:o.ui.icons.chevronDoubleRight)),y=C(()=>D({extend:D(we),...o.ui?.pagination||{}})());return(g,j)=>(i(),m(r(pe),B(r(s),{class:y.value.root({class:[t.ui?.root,t.class]})}),{default:p(({page:L,pageCount:U})=>[_(r(Pe),{class:w(y.value.list({class:t.ui?.list}))},{default:p(({items:O})=>[e.showControls||l.first?(i(),m(r(ve),{key:0,"as-child":"",class:w(y.value.first({class:t.ui?.first}))},{default:p(()=>[h(g.$slots,"first",{},()=>[_(R,{color:e.color,variant:e.variant,size:e.size,icon:f.value,to:e.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):x("",!0),e.showControls||l.prev?(i(),m(r(Ie),{key:1,"as-child":"",class:w(y.value.prev({class:t.ui?.prev}))},{default:p(()=>[h(g.$slots,"prev",{},()=>[_(R,{color:e.color,variant:e.variant,size:e.size,icon:d.value,to:L>1?e.to?.(L-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):x("",!0),(i(!0),b(S,null,M(O,($,A)=>(i(),b(S,null,[$.type==="page"?(i(),m(r(Ce),{key:A,"as-child":"",value:$.value,class:w(y.value.item({class:t.ui?.item}))},{default:p(()=>[h(g.$slots,"item",B({ref_for:!0},{item:$,index:A,page:L,pageCount:U}),()=>[_(R,{color:L===$.value?e.activeColor:e.color,variant:L===$.value?e.activeVariant:e.variant,size:e.size,label:String($.value),ui:{label:y.value.label()},to:e.to?.($.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(i(),m(r(ue),{key:$.type,index:A,"as-child":"",class:w(y.value.ellipsis({class:t.ui?.ellipsis}))},{default:p(()=>[h(g.$slots,"ellipsis",{},()=>[_(R,{color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||r(o).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:2},1032,["index","class"]))],64))),256)),e.showControls||l.next?(i(),m(r(qe),{key:2,"as-child":"",class:w(y.value.next({class:t.ui?.next}))},{default:p(()=>[h(g.$slots,"next",{},()=>[_(R,{color:e.color,variant:e.variant,size:e.size,icon:P.value,to:L<U?e.to?.(L+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):x("",!0),e.showControls||l.last?(i(),m(r(me),{key:3,"as-child":"",class:w(y.value.last({class:t.ui?.last}))},{default:p(()=>[h(g.$slots,"last",{},()=>[_(R,{color:e.color,variant:e.variant,size:e.size,icon:v.value,to:e.to?.(U)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):x("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},Be={class:""},Ne={class:"w-full mt-2 text-gray-500 table-bordered text-sm"},ze={class:"border-b"},Le={class:"text-left"},Re=["onClick"],Se={class:"w-20 pl-2"},Ve={class:"pl-2"},Ee=["src"],Fe={key:1,class:"items-center"},Me={class:"py-1 pl-2 text-center"},Ue={key:0},Ae=["colspan"],je=k({__name:"AdminTable",props:{headers:{},datas:{},url:{},showAdd:{type:Boolean},nodelete:{type:Boolean},noadd:{type:Boolean},noedit:{type:Boolean}},emits:["orderBy","showAdd","update:showAdd"],setup(e,{emit:n}){const t=e,u=n,l=(s,f)=>{let d="";const P=f.split(".");if(P.length===1)d=s[P[0]];else{let v=s;for(const y of P)try{v=v?.[y]}catch(g){console.info(P,g?.message)}d=v}return d},a="callback="+(new URLSearchParams(window.location.search).get("callback")??encodeURIComponent(location.pathname+location.search)),o=s=>{confirm("Та устгахдаа итгэлтэй байна уу?")&&t.url&&se.delete(`${t.url}/${s}${a??""}`)};return(s,f)=>{const d=ae("ILink"),P=R;return i(),b("div",Be,[c("table",Ne,[c("thead",ze,[c("tr",Le,[f[0]||(f[0]=c("th",{class:"pl-2 w-11"},[c("i",{class:"ti-list"})],-1)),(i(!0),b(S,null,M(s.headers,(v,y)=>(i(),b("th",{key:y,class:"text-gray-600",onClick:g=>u("orderBy",v.order)},q(v.name),9,Re))),128)),c("th",Se,[s.url?(i(),m(d,{key:0,href:`${s.url}/create`,class:"btn btn-success ti-plus"},null,8,["href"])):x("",!0)])])]),h(s.$slots,"filter"),c("tbody",null,[(i(!0),b(S,null,M(s.datas.data,(v,y)=>(i(),b("tr",{key:v.id,class:"border-t hover:bg-gray-100 dark:hover:bg-gray-600 focus-within:bg-gray-100"},[c("td",Ve,q(y+1+s.datas.per_page*(s.datas.current_page-1)),1),(i(!0),b(S,null,M(s.headers,(g,j)=>(i(),b("td",{key:j,class:"px-2 py-1"},[g.type=="img"?(i(),b("img",{key:0,src:v[g.key],class:w(g.class)},null,10,Ee)):(i(),b(S,{key:1},[!s.noadd&&s.url?(i(),m(d,{key:0,href:s.url+"/"+v.id+"?"+(a??""),class:"items-center"},{default:p(()=>[V(q(l(v,g.key)),1)]),_:2},1032,["href"])):(i(),b("span",Fe,q(l(v,g.key)),1))],64))]))),128)),c("td",Me,[!s.nodelete&&s.url?(i(),m(P,{key:0,onClick:()=>o(v.id),title:"устгах",class:"inline-block px-1 py-0"},{default:p(()=>f[1]||(f[1]=[c("i",{class:"ti-trash"},null,-1)])),_:2,__:[1]},1032,["onClick"])):x("",!0),!s.noedit&&s.url?(i(),m(d,{key:1,href:s.url+"/"+v.id+"/edit?"+(a??""),class:"inline-block px-2 text-white bg-orange-500 rounded hover:bg-orange-700",title:"Засах"},{default:p(()=>f[2]||(f[2]=[c("i",{class:"ti-pencil-alt"},null,-1)])),_:2,__:[2]},1032,["href"])):x("",!0)])]))),128)),s.datas.data.length===0?(i(),b("tr",Ue,[c("td",{class:"px-6 py-4",colspan:s.headers.length+2},"Мэдээлэл байхгүй ",8,Ae)])):x("",!0)])])])}}}),De=(e,n)=>{e.model.orderBy=n,e.model.dir=e.model.dir=="desc"?"asc":"desc"},Oe={class:"flex flex-wrap justify-between gap-4 mb-2"},Te={class:"relative text-gray-400 w-[300px]"},Ge=["value"],He=["value"],Ye={value:"10"},Je={value:"30"},Ke={value:"50"},Qe={value:"100"},We=k({__name:"PaginationFilter",props:{modelValue:{type:[Number,String],default:10},search:{type:[String,Number],default:""},total:{type:Number,required:!0}},emits:["update:modelValue","update:search","update"],setup(e,{emit:n}){const t=n,u=()=>{t("update")},l=o=>{const s=o.target;t("update:modelValue",s.value),u()},a=o=>{const s=o.target;t("update:search",s.value),u()};return(o,s)=>(i(),b("div",Oe,[c("div",Te,[s[0]||(s[0]=c("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),c("input",{id:"search",name:"search",type:"search",value:e.search,onInput:a,class:"w-full py-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10",placeholder:"Хайх"},null,40,Ge)]),c("select",{value:e.modelValue,onChange:l,class:"text-sm text-gray-900 border border-gray-300 rounded-md focus:outline-none focus:ring-gray-500 focus:z-10"},[c("option",Ye,"10/"+q(e.total),1),c("option",Je,"30/"+q(e.total),1),c("option",Ke,"50/"+q(e.total),1),c("option",Qe,"100/"+q(e.total),1)],40,He)]))}}),Xe={class:"mt-8 px-2 grid gap-2"},nt=k({__name:"Notifications",props:{datas:{},filters:{}},setup(e){const n=[{title:"Дашбоард",href:"/"},{title:"Мэдэгдэл",href:"/notifications"}],t=e,u=[{key:"title",name:"Гарчиг",order:"title"},{key:"content",name:"Агуулга",order:"content"}],l=le({model:{...t.filters,per_page:t.datas.per_page}}).transform(a=>a.model);return oe(()=>l.model,K(()=>l.get("",{preserveState:!0}),150),{deep:!0}),(a,o)=>{const s=xe,f=T;return i(),b(S,null,[_(r(ne),{title:"Мэдэгдэл"}),_(re,{breadcrumbs:n},{default:p(()=>[c("div",Xe,[_(f,null,{default:p(()=>[_(We,{modelValue:r(l).model.per_page,"onUpdate:modelValue":o[0]||(o[0]=d=>r(l).model.per_page=d),onUpdate:o[1]||(o[1]=()=>r(l).model.page=1),search:r(l).model.search,"onUpdate:search":o[2]||(o[2]=d=>r(l).model.search=d),total:a.datas.total},null,8,["modelValue","search","total"]),_(je,{headers:u,datas:a.datas,onOrderBy:o[3]||(o[3]=d=>r(De)(r(l),d))},null,8,["datas"]),_(s,{page:r(l).model.page,"onUpdate:page":o[4]||(o[4]=d=>r(l).model.page=d),"active-color":"primary",total:a.datas.total},null,8,["page","total"])]),_:1})])]),_:1})],64)}}});export{nt as default};
